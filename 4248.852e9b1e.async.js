"use strict";(self.webpackChunkantv_vision=self.webpackChunkantv_vision||[]).push([[4248],{84248:function(e,t,n){n.d(t,{b:function(){return H}});var r=n(67294),i="mVJcQp2akW8DkxTZaXvM",o="nHtyKM8kacjMBJLp9Mtn",a="tYEvv8yEyxYjX_uBKM9f",u="K4STy91eCOIU3GxiPBHF",l=n(44978);function c(e){var t=e.type,n=e.title,c=e.desc,f=e.onDelete;return r.createElement("div",{className:i},r.createElement("img",{src:l.pl[t],alt:t}),r.createElement("div",{className:o,title:n},n),c&&r.createElement("div",{className:a},c),f&&r.createElement("img",{className:u,onClick:f,src:"https://mdn.alipayobjects.com/huamei_2yzvel/afts/img/A*xfBPTJxWAjoAAAAAAAAAAAAAeriAAQ/original"}))}var f=function(e){var t=(0,r.useRef)(e);return t.current=e,t},s=n(92770),m=!("undefined"==typeof window||!window.document||!window.document.createElement);function v(e,t){if(m)return e?(0,s.mf)(e)?e():"current"in e?e.current:e:t}var y=n(31663),d=function(e){y.Z&&((0,s.mf)(e)||console.error("useUnmount expected parameter is a function, got ".concat(typeof e)));var t=f(e);(0,r.useEffect)((function(){return function(){t.current()}}),[])};var p=function(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},A=function(e){return function(t,n,i){var o=(0,r.useRef)(!1),a=(0,r.useRef)([]),u=(0,r.useRef)([]),l=(0,r.useRef)(void 0);e((function(){var e,r=(Array.isArray(i)?i:[i]).map((function(e){return v(e)}));if(!o.current)return o.current=!0,a.current=r,u.current=n,void(l.current=t());r.length===a.current.length&&p(a.current,r)&&p(u.current,n)||(null===(e=l.current)||void 0===e||e.call(l),a.current=r,u.current=n,l.current=t())})),d((function(){var e;null===(e=l.current)||void 0===e||e.call(l),o.current=!1}))}}(r.useEffect);var b=function(e,t,n){void 0===n&&(n={});var r=n.enable,i=void 0===r||r,o=f(t);A((function(){if(i){var t=v(n.target,window);if(null==t?void 0:t.addEventListener){var r=function(e){return o.current(e)},a=Array.isArray(e)?e:[e];return a.forEach((function(e){t.addEventListener(e,r,{capture:n.capture,once:n.once,passive:n.passive})})),function(){a.forEach((function(e){t.removeEventListener(e,r,{capture:n.capture})}))}}}}),[e,n.capture,n.once,n.passive,i],n.target)},g=n(93967),h=n.n(g),E=n(96486),S=n.n(E),w={container:"uz7Tta10Zf_42Co4AYm0",withDatasource:"V9EvD4iUeqkUebj8x4yF",header:"J49CuvtRCNsnLGhCs9Qn",footer:"ceL7zHyUgykPSaiWZbvx",dataActions:"Vdyv6npNYts_kHjEYecG",active:"aTd1oD7WlgoWst5q4wxN",promptTextarea:"XM4r4qwIWYyPclSzbu3Y",compact:"tfFaxs6ezA8u5Eb4yLuu",datasourceBtn:"DJbwgMQEiGcEkrQcs4NP"},j="sJqAIUzkbzsOXtxZFxw8",C="WSqHvM6IEdGevtEmlawY",N=n(69873);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function k(e,t,n){var r;return r=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==x(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){var t=e.onClick,n=e.disabled,i=e.tip;return r.createElement(N.Z,{title:n?i:null},r.createElement("img",{className:h()(j,k({},C,n)),onClick:function(){!n&&t()},src:n?"https://mdn.alipayobjects.com/huamei_2yzvel/afts/img/A*MzQBS6rzlygAAAAAJ8AAAAgAeriAAQ/original":"https://mdn.alipayobjects.com/huamei_2yzvel/afts/img/A*gXFNTJTBx0oAAAAANwAAAAgAeriAAQ/original"}))}var O=n(54112),M=n(29889),T=n(79693),I="OFAV0bsOTvYwSUgIPQ2a";function Q(e){var t,n=e.value,i=e.onChange,o=e.size,a="compact"===(void 0===o?"default":o),u="zh"===(0,T.bU)().id?"zh":"en",l=(0,M.rn)().data,c=void 0===l?[]:l,f=(0,M.WX)().data,s=(void 0===f?{library:[]}:f).library,m=void 0===s?[]:s,v=c.filter((function(e){return e.lang===u&&m.map((function(e){return e.toUpperCase()})).includes(e.title)})).map((function(e){return{key:e.title,label:e.title,icon:r.createElement("img",{src:e.icon,alt:e.title,className:I}),extra:!a&&e.slogan,onClick:function(){return t=e.title,void(null==i||i(t));var t}}}));return r.createElement(O.Z,{menu:{items:v}},r.createElement("button",{type:"button"},r.createElement("img",{className:I,src:(null===(t=c.find((function(e){return e.title===n})))||void 0===t?void 0:t.icon)||"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7svFR6wkPMoAAAAAAAAAAAAADmJ7AQ/original",alt:"AntV"}),n||!a&&r.createElement(T._H,{id:"ai.chooseLib.placeholder"})))}var B=n(50927);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=n(77726),U=n(17625),Y=n(61555),R=n(34452);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(){var e=(0,T.YB)().formatMessage,t=(0,U.R)(Y.cE),n=Object.entries(l.Q7).map((function(t){var n=_(t,2),r=n[0],i=n[1];return{key:r,label:e({id:i.shortName}),icon:i.icon,onClick:function(){return Y.cE.mode=r}}}));return r.createElement(O.Z,{menu:{items:n}},r.createElement("button",{type:"button"},r.createElement("a",null,r.createElement(R.Z,null,l.Q7[t.mode].icon,e({id:l.Q7[t.mode].shortName})))))}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function W(e,t,n){var r;return r=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==J(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G={implement:"ai.placeholder.implement",solve:"ai.placeholder.solve"},H=r.memo((function(e){var t=e.value,n=e.size,i=e.onChange,o=e.onDataSummaryChange,a=e.onConfirm,u=e.onCancel,l=e.loading,f=e.showAction,s=void 0===f||f,m=e.showModeSelector,v=void 0!==m&&m,y=(0,U.R)(Y.cE),d=(0,U.R)(F.Mz),p=(0,T.YB)().formatMessage,A=(0,r.useRef)(null),g=(0,T.WF)().themeConfig;(0,r.useEffect)((function(){g.isAntVSite||y.lib||(Y.cE.lib=g.title)}),[g.isAntVSite,g.title]);var E=V((0,r.useState)(null),2),j=E[0],C=E[1],N=V((0,r.useState)(!1),2),x=N[0],k=N[1],O="compact"===n,M=function(e){var t=e.texts,n=e.typingSpeed,i=void 0===n?150:n,o=e.pauseDelay,a=void 0===o?2e3:o,u=P((0,r.useState)(0),2),l=u[0],c=u[1],f=P((0,r.useState)(0),2),s=f[0],m=f[1];return(0,r.useEffect)((function(){var e=t[l];if(s<e.length){var n=setTimeout((function(){m((function(e){return e+1}))}),i);return function(){return clearTimeout(n)}}var r=setTimeout((function(){c((function(e){return(e+1)%t.length})),m(0)}),a);return function(){return clearTimeout(r)}}),[s,l,t,i,a]),t[l].substring(0,s)}({texts:[p({id:"ai.placeholder.whatis"},{title:g.title}),(0,B.ic)(g.metas.description)]});var I="FILE"!==(null==j?void 0:j.type)&&"IMAGE"!==(null==j?void 0:j.type)||null==j||!j.fileName?null:r.createElement(c,{type:j.type,title:j.fileName,desc:j.fileSize,onDelete:function(){C(null),o&&o("")}}),D=Boolean(t),R=function(){D&&(null==a||a())},_=function(){d.isAuthenticated?R():(0,F.m8)(R)};return b("keydown",(function(e){"Enter"===e.key&&(e.shiftKey||e.isComposing||l||(e.preventDefault(),_()))}),{target:A}),r.createElement("div",{className:h()(w.container,W(W(W({},w.active,x),w.compact,O),w.withDatasource,Boolean(I))),style:e.style},I&&r.createElement("div",{className:w.header},I),r.createElement("textarea",{onFocus:function(){return k(!0)},onBlur:function(){return k(!1)},id:"prompt-textarea",className:h()(w.promptTextarea),ref:A,placeholder:O||g.isAntVSite?p({id:S().get(G,y.mode,"ai.placeholder.implement")}):M,value:t,onChange:function(e){i(e.target.value)}}),r.createElement("div",{className:w.footer},r.createElement("div",{className:w.dataActions},s&&r.createElement(r.Fragment,null,r.createElement(Q,{size:n,value:y.lib,onChange:function(e){return Y.cE.lib=e}})),v&&r.createElement(r.Fragment,null,r.createElement(Z,null))),r.createElement("div",{className:w.actions},l?r.createElement("img",{className:w.actionBtn,onClick:u,src:"https://mdn.alipayobjects.com/huamei_2yzvel/afts/img/A*Yin-QLza5hMAAAAAQBAAAAgAeriAAQ/original"}):r.createElement(z,{onClick:_,disabled:!D,tip:D?void 0:p({id:"ai.msgbox.send.tip"})}))))}))},92770:function(e,t,n){n.d(t,{mf:function(){return r}});var r=function(e){return"function"==typeof e}},31663:function(e,t){t.Z=!1}}]);