<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Chart API 文档</title>
  <meta name="keywords" content="G2, The Grammar of Graphics, 图形语法,图表绘制引擎,图表库,可视化,数据可视化,AntV,Data Visualization,visualization,visualisation, antd, ant, ant design, G6, 流程图, 关系图, 可视化规范, 地图, 河流图, 力导图, 网络图, UML图, 流图, 时序图, 图">
  <meta name="description" content="一套专业、简单、无限可能的可视化解决方案">
  <link rel="icon" href="https://zos.alipayobjects.com/rmsportal/oNtwPuEICFyCWUHztcOA.png" type="image/x-icon">
  <link rel="shortcut icon" href="https://zos.alipayobjects.com/rmsportal/oNtwPuEICFyCWUHztcOA.png" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="../../static/style.css" />
  <link rel="stylesheet" type="text/css" href="../../static/codemirror.css" />
  <link rel="stylesheet" type="text/css" href="../../static/tipuesearch/tipuesearch.css" >
  <script src="../../static/jquery.js"></script>
  <script src="../../static/tipuesearch/tipuesearch_set.js"></script>
  <script src="../../static/tipuesearch/tipuesearch.js"></script>
  <script src="https://g.alicdn.com/bui/??seajs/2.3.0/sea.js"></script>
  <script src="https://g.alicdn.com/bui/bui/1.1.17/config.js"></script>
  <script src="../../static/script.js"></script>
<script src="https://gw.alipayobjects.com/as/g/datavis/g2/2.3.13/index.js"></script>
</head>
<body><header id="header">
  <div class="nav-wrapper gradient-line">
    <div class="nav-content clearfix">
      <div class="pull-left">
        <a href="/index.html" class="nav-logo">
          <img src="https://zos.alipayobjects.com/rmsportal/aGpKpuxoGfZqJobMPLvj.svg">
          <span class="logo-text">AntV</span>
        </a>
        <div class="search-box">
          <form action="/search.html">
            <i class="iconfont icon-search"></i>
            <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
          </form>
        </div>
      </div>
      <div class="nav pull-right">
        <ul id="J_nav" class="clearfix nav-list">
          <li id="g2" class="nav-item hover">
            <a class="nav-item-link" href="/g2/doc/index.html">G2</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g2/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g2/doc/tutorial/start/index.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g2/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g2/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g2/doc/history.html">更新日志</a></li>
            </ul>
          </li>
          <li id="g2-mobile" class="nav-item">
            <a class="nav-item-link" href="/g2-mobile/doc/index.html">G2-mobile</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g2-mobile/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/doc/tutorial/shape.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/doc/history.html">更新日志</a></li>
            </ul>
          </li>
          <li id="g6" class="nav-item">
            <a class="nav-item-link" href="/g6/doc/index.html">G6</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g6/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g6/doc/tutorial/start/base.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g6/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g6/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g6/doc/history.html">更新日志</a></li>
              <li class="nav-sub-item"><a href="/g6/tools/index.html" target="_blank">在线工具</a></li>
            </ul>
          </li>
          <li id="vis" class="nav-item last">
            <a class="nav-item-link" href="/vis/doc/chart/index.html">可视化基础</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/vis/doc/chart/classify/compare.html">图表用法</a></li>
              <li class="nav-sub-item"><a href="/vis/doc/design/index.html">图表设计指引</a></li>
              <li class="nav-sub-item"><a href="/vis/doc/reference.html">经典文献</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
 
 
<link rel="stylesheet" href="../../static/prettify-min.css">
<script src="https://a.alipayobjects.com/jquery/jquery/1.11.1/jquery.js"></script>
<script src="https://gw.alipayobjects.com/as/g/datavis/g2/2.3.13/index.js"></script>


  <div class="main-container clearfix">
<div class="body-content api-body-content"><div class="doc-nav">
  <p class="title">G2</p>
  <ul class="doc-nav-list">
    <li class="">
      <a href="/g2/doc/index.html" >快速上手</a>
    </li>
    <li class="">
      <div>
        <div class="menu-dir">使用教程</div>
        <ul class="doc-sub-nav-list" style="display:none;">
          <li class="sub-title">基础教程</li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/index.html" >G2 图表的主要组成</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/chart.html" >图表对象配置（chart）</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/working-with-data.html" >data 数据</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/frame.html" >Frame 常见操作</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/scale.html" >度量</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/col-defs.html" >列定义操作</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/geom.html" >geom 几何标记</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/attr.html" >attr 图形属性</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/coord.html" >coord 坐标系</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/axis.html" >axis 坐标轴</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/legend.html" >legend 图例</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/tooltip.html" >tooltip 提示信息</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/guide.html" >guide 辅助标记</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/stat.html" >stat 统计变换</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/facet.html" >facet 分面</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/theme.html" >theme 图表样式</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/label.html" >label 文本标签</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/chart-event.html" >图表事件 event</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/action.html" >图表交互</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/changedata.html" >数据异步加载与动态更新</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/g2-plugin-slider.html" >数据滑动条插件使用</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/rc-g2.html" >在 react 中使用 G2</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/fqas.html" >常见问题</a>
          </li>
          <li class="sub-title">高级教程</li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/index.html" >G2 图形语法简介</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/data-flow.html" >G2 的数据处理流程</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/data-type-and-scale.html" >数据类型与度量</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/coord-detailed.html" >坐标系详解</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/chart-type.html" >图表类型</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/geom-and-adjust.html" >几何标记和数据调整</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/custom-shape.html" >自定义 shape</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/view.html" >多视图 view 绘制</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/layout.html" >layout 布局</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/draw-word-cloud.html" >使用 G2 绘制词云</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/animate.html" >自定义动画</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="">
      <a href="/g2/demo/index.html" >图表示例</a>
    </li>
    <li class="">
      <div>
        <div class="menu-dir active">API</div>
        <ul class="doc-sub-nav-list" style="">
          <li class="">
            <a href="../../g2/api/index.html" >G2</a>
          </li>
          <li class="active">
            <a href="../../g2/api/chart.html" >Chart</a>
          </li>
          <li class="">
            <a href="../../g2/api/view.html" >View</a>
          </li>
          <li class="">
            <a href="../../g2/api/geom.html" >Geom</a>
          </li>
          <li class="">
            <a href="../../g2/api/scale.html" >Scale</a>
          </li>
          <li class="">
            <a href="../../g2/api/stat.html" >Stat</a>
          </li>
          <li class="">
            <a href="../../g2/api/frame.html" >Frame</a>
          </li>
          <li class="">
            <a href="../../g2/api/shape.html" >Shape</a>
          </li>
          <li class="">
            <a href="../../g2/api/animate.html" >Animate</a>
          </li>
          <li class="">
            <a href="../../g2/api/layout.html" >Layout</a>
          </li>
          <li class="">
            <a href="../../g2/api/global.html" >Global</a>
          </li>
          <li class="">
            <a href="../../g2/api/util.html" >Util</a>
          </li>
          <li class="">
            <a href="../../g2/api/canvas.html" >Canvas</a>
          </li>
          <li class="">
            <a href="../../g2/api/chart-options.html" >配置项支持</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="">
      <a href="/g2/doc/history.html" >更新日志</a>
    </li>
  </ul>
</div>

<script type="text/javascript">
$(".menu-dir").on("click", function(e){
  var span = $(e.target);
  span.toggleClass("active");
  var ul = span.next();
  if (!span.hasClass('active')) {
    ul.slideUp(300);
  } else {
    ul.slideDown(300);
  }
});
</script>
  <div class="doc-content clearfix">
    <h1>Chart</h1>
    <div id="J_pageNav"></div>
    <div class="clearfix" style="margin-bottom: 40px;"></div>
    <div class="doc-inner">
      <p>获取方式： <code>G2.Chart</code>。</p>
<p>创建一个具体的图表实例。</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
  id: <span class="string">'c1'</span>,
  width: <span class="number">1000</span>,
  height: <span class="number">500</span>,
  plotCfg: {
    margin: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">20</span>],
  }
});</code></pre></div><h2 id="属性">属性</h2><p><strong>以下属性是创建 chart 图表实例时可配置的属性：</strong></p>
<h3 id="id"><a href="#id">id</a></h3><p>类型：String</p>
<p>对应图表的 DOM 容器的 id。</p>
<h3 id="container"><a href="#container">container</a></h3><p>类型：HTMLDivElement</p>
<p>除了传递 id 值来指定图表容器，也支持直接传入容器的 html 节点对象，如下所示：</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
  container: document.getElementById(<span class="string">'c1'</span>),
  width : <span class="number">1000</span>,
  height : <span class="number">500</span>
});</code></pre></div><p>通过调用 <code>chart.get(&#39;container&#39;)</code>  可获取该属性。</p>
<h3 id="forcefit"><a href="#forceFit">forceFit</a></h3><p>类型：Boolean</p>
<p>设置图表的宽度是否自适应，默认为 false，设置为 true，则图表 chart 会继承父元素的宽度，用户设置的 width 则不生效。</p>
<h3 id="syncxyscales"><a href="#syncXYScales">syncXYScales</a></h3><p>类型：Boolean</p>
<p>当 <code>chart</code> 下创建了多个视图 <a href="/g2/api/view.html">view</a> 的时候，通过设置该属性指定是否需要统一所有视图的 X 和 Y <a href="/g2/doc/tutorial/start/scale.html">度量</a>，默认为 <code>false</code>，当设置为 <code>true</code> 时，会对 x y 两个维度对应的线性度量进行统一，<strong>默认会按照范围最大的度量为标准进行统一</strong>。但对于在 chart 或者 view 上进行了列定义的度量则不参与统一步骤：</p>
<ul>
<li>如果在 chart 上对 x 、y 两个维度对应的字段进行了列定义，则会按照此列定义为准，并且该 chart 下的 views 也以此列定义为准；</li>
<li>如果 chart 中的 view 也进行了列定义，那么就以自己的列定义为准。</li>
</ul>
<p>示例： <a href="/g2/demo/10-map/world-map.html">地图</a> </p>
<h3 id="width"><a href="#width">width</a></h3><p>类型：Number</p>
<p>设置图表的宽度。</p>
<h3 id="height"><a href="#height">height</a></h3><p>类型：Number</p>
<p>设置图表的高度。</p>
<h3 id="pixelratio"><a href="#pixelRatio">pixelRatio</a></h3><p>类型：Number</p>
<p>设置像素分辨率。</p>
<h3 id="data"><a href="#data">data</a></h3><p>类型：Array</p>
<p>设置图表的数据源，<code>data</code> 是一个包含 JSON 对象的数组。</p>
<p>通常我们会使用 <code>chart.source(data[, colDef, namesArr])</code> 设置数据源。</p>
<h3 id="animate"><a href="#animate">animate</a></h3><p>类型：Boolean</p>
<p>chart 是否执行动画，默认值为 <code>true</code>，执行， <code>false</code> 不执行。</p>
<h3 id="plotcfg"><a href="#plotCfg">plotCfg</a></h3><p>类型：Object</p>
<p>设置图表绘图区域的配置信息，包括外边距、边框、背景等信息。</p>
<p>图表布局如下图所示：</p>
<p><img src="https://zos.alipayobjects.com/skylark/f5bd9045-6fdf-4f34-b34b-113a9d4e38c1/attach/3378/459ddccb9352ea93/image.png" alt="image"></p>
<p>橙色区域为 <code>background</code>，灰色区域为 <code>border</code>。</p>
<p>支持的配置属性:</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> plotCfg = {
  margin: [<span class="number">10</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">30</span>], <span class="comment">// 边距设置，接受参数同 css 的 margin</span>
  border: {
    stroke: <span class="string">'red'</span>, <span class="comment">// 边框颜色</span>
    strokeOpacity: <span class="number">0.4</span>, <span class="comment">// 边框的透明度设置，0 至 1 范围的数据</span>
    lineWidth: <span class="number">1</span>, <span class="comment">// 边框粗细</span>
    fill: <span class="string">'#ff8800'</span> <span class="comment">// 设置整个容器的背景色</span>
    fillOpacity: <span class="number">0.4</span>, <span class="comment">// 背景色的透明度设置，0 至 1 范围的数据</span>
    radius: <span class="number">5</span> <span class="comment">// 边框的圆角</span>
  }, <span class="comment">// 边框设置 图形属性</span>
  background: {
    stroke: <span class="string">'red'</span>, <span class="comment">// 边颜色</span>
    strokeOpacity: <span class="number">0.4</span>, <span class="comment">// 边框的透明度设置，0 至 1 范围的数据</span>
    lineWidth: <span class="number">1</span>, <span class="comment">// 边框粗细</span>
    fill: <span class="string">'#efefef'</span>, <span class="comment">// 背景色</span>
    fillOpacity: <span class="number">0.4</span>, <span class="comment">// 背景色的透明度设置，0 至 1 范围的数据</span>
    radius: <span class="number">30</span> <span class="comment">// 圆角设置</span>
  } <span class="comment">// 绘图区域背景设置</span>
};</code></pre></div><p><strong>通过 <code>chart.get(&#39;attrName&#39;)</code> 可以获取如下只读属性：</strong></p>
<h3 id="canvas"><a href="#canvas">canvas</a></h3><p>类型：G2.Canvas</p>
<p>在教程 <a href="/g2/doc/tutorial/start/index.html#其他">G2 图表的主要组成</a>章节中提到，G2 绘制的图表由三层 canvas 组成，其中 canvas 用于绘制 <a href="/g2/doc/tutorial/start/geom.html">geom</a>。</p>
<h3 id="frontcanvas"><a href="#frontCanvas">frontCanvas</a></h3><p>类型：G2.Canvas</p>
<p>最上层的 canvas，<a href="/g2/doc/tutorial/start/legend.html">图例 legend</a>、<a href="/g2/doc/tutorial/start/tooltip.html">提示信息 tooltip</a>、和 <a href="/g2/doc/tutorial/start/guide.html">text tag html 这三种类型的辅助标记 guide</a> 在这一层绘制。</p>
<h3 id="backcanvas"><a href="#backCanvas">backCanvas</a></h3><p>类型：G2.Canvas</p>
<p>最下层的 canvas，<a href="/g2/doc/tutorial/start/axis.html">坐标轴 axis</a> 和 <a href="/g2/doc/tutorial/start/guide.html">line image rect arc 这四种类型的辅助标记 guide</a> 在这一层绘制。</p>
<h3 id="plotrange"><a href="#plotRange">plotRange</a></h3><p>类型：Object</p>
<p>该属性包含整个图表的绘图区域范围内各个关键坐标点的信息。
通过调用 <code>chart.get(&#39;plotRange&#39;)</code> 获取。</p>
<p><img src="https://zos.alipayobjects.com/skylark/a36f16bc-c0e6-4395-bd11-bf7ae04094e6/attach/3378/333e7d5d7c517000/image.png" alt="image"></p>
<p>具体结构如下：</p>
<div class="highlight"><pre><code class="javascript">{
  <span class="string">'start'</span>: {<span class="string">'x'</span>:<span class="number">100</span>,<span class="string">'y'</span>:<span class="number">320</span>}, <span class="comment">// 绘图区域起始点坐标，可以理解为坐标系原点</span>
  <span class="string">'end'</span>: {<span class="string">'x'</span>:<span class="number">720</span>,<span class="string">'y'</span>:<span class="number">40</span>}, <span class="comment">// 绘图区域结束点坐标</span>
  <span class="string">'tl'</span>: {<span class="string">'x'</span>:<span class="number">100</span>,<span class="string">'y'</span>:<span class="number">40</span>}, <span class="comment">// 绘图区域左上角点坐标，top-left</span>
  <span class="string">'tr'</span>: {<span class="string">'x'</span>:<span class="number">720</span>,<span class="string">'y'</span>:<span class="number">40</span>}, <span class="comment">// 绘图区域右上角点坐标，top-right</span>
  <span class="string">'bl'</span>: {<span class="string">'x'</span>:<span class="number">100</span>,<span class="string">'y'</span>:<span class="number">320</span>}, <span class="comment">// 绘图区域左下角点坐标，bottom-left</span>
  <span class="string">'br'</span>: {<span class="string">'x'</span>:<span class="number">720</span>,<span class="string">'y'</span>:<span class="number">320</span>}, <span class="comment">// 绘图区域右下角点坐标，bottom-right</span>
  <span class="string">'cc'</span>: {<span class="string">'x'</span>:<span class="number">410</span>,<span class="string">'y'</span>:<span class="number">180</span>} <span class="comment">// 绘图区域中心店坐标</span>
}</code></pre></div><h3 id="views"><a href="#views">views</a></h3><p>类型：Array</p>
<p>返回该 chart 实例包含的所有<a href="/g2/api/view.html">视图 View</a> 对象，亦可通过 <code>chart.getViews()</code> 方法获取。</p>
<h3 id="geoms"><a href="#geoms">geoms</a></h3><p>类型：Array</p>
<p>返回该 chart 实例包含的所有<a href="/g2/api/geom.html">几何标记 Geom</a> 对象，亦可通过 <code>chart.getAllGeoms()</code> 方法获取。</p>
<h3 id="scales"><a href="#scales">scales</a></h3><p>类型：Object</p>
<p>返回 chart 实例的所有<a href="/g2/api/scale.html"> scale 度量</a>对象。</p>
<h3 id="options"><a href="#options">options</a></h3><p>类型：Object</p>
<p>返回生成 chart 实例相关的所有配置项，详见 <a href="g2/api/chart-options.html">配置项支持</a>。</p>
<h2 id="方法">方法</h2><h3 id="source"><a href="#source">source</a></h3><p>方法名：<code>chart.source(data[, colDefs, namesArr])</code></p>
<p>说明：配置图表的数据以及相关的列定义信息。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>data</code>: Array</p>
<p>数据源数据，标准的 JSON 数组。</p>
</li>
<li><p><code>colDefs</code>: Object</p>
<p>【可选】，用于数据字段的列定义，如设置数据的类型，显示别名，时间类型的展示格式等，不同的数字类型的配置项不同，<a href="/g2/api/scale.html">详情参考</a>。</p>
</li>
<li><p><code>namesArr</code>: Array</p>
<p>作为附加字段，用于补全数据源包含的数据字段，常用于数据源含有不同数据字段的记录。</p>
</li>
</ul>
<h4 id="代码示例">代码示例</h4><div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> data = [
  {type: <span class="number">0</span>, value: <span class="number">1</span>},
  {type: <span class="number">1</span>, value: <span class="number">2</span>},
  {type: <span class="number">2</span>, value: <span class="number">3</span>},
  {type: <span class="number">2</span>, value: <span class="number">3</span>, color: <span class="string">'#f80'</span>},
];

chart.source(data, {
  type: {
    type: <span class="string">'cat'</span>, <span class="comment">// 声明 type 字段为分类类型</span>
    values: [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>] <span class="comment">// 重新显示的值</span>
    alias: <span class="string">'类型'</span> <span class="comment">// 设置属性的别名</span>
  }
}, [<span class="string">'color'</span>]);</code></pre></div><h3 id="cols"><a href="#cols">cols</a></h3><p>方法名：<code>chart.cols(cfg)</code></p>
<p>说明：为多个数据字段进行列定义。</p>
<p><strong>注意：</strong></p>
<ol>
<li>该方法是对于数据进行定义，会影响后面图形的绘制，所以必须先于图形语法语句（<code>chart.&lt;geomType&gt;.position()...</code>）进行声明；</li>
<li>如数据字段 dim 在 <code>chart.source()</code> 和 <code>chart.cols()</code> 中均有定义，那么 <code>chart.cols()</code> 中的配置会覆盖 <code>chart.source()</code> 中的配置。 </li>
</ol>
<h4 id="参数">参数</h4><ul>
<li><p><code>cfg</code>: Object</p>
<p>用于数据字段的定义，如数据的类型，显示别名，时间类型的格式等，不同的数字类型的配置项不同，<a href="/g2/api/scale.html">详情参考</a>。</p>
</li>
</ul>
<h4 id="代码">代码</h4><div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> data = [
  {type: <span class="number">0</span>, value: <span class="number">1</span>},
  {type: <span class="number">1</span>, value: <span class="number">2</span>},
  {type: <span class="number">2</span>, value: <span class="number">3</span>},
];

chart.cols({
  <span class="string">'type'</span>: {
    type: <span class="string">'cat'</span>, <span class="comment">// 声明 type 字段为分类类型</span>
    values: [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>] <span class="comment">// 重新显示的值</span>
    alias: <span class="string">'类型'</span> <span class="comment">// 设置属性的别名</span>
  },
  <span class="string">'value'</span>: {
    type: <span class="string">'cat'</span>
  }
});</code></pre></div><h3 id="col"><a href="#col">col</a></h3><p>方法名：<code>chart.col(dim, cfg)</code></p>
<p>说明：为对应的数据字段进行列定义，当需要对多个字段进行列定义时，推荐使用 <a href="/g2/api/chart.html#source">chart.source()</a> 或者 <a href="/g2/api/chart.html#cols">chart.cols()</a>。</p>
<p><strong>注意：</strong></p>
<ol>
<li>该方法是对于数据进行定义，会影响后面图形的绘制，所以必须先于图形语法语句（<code>chart.&lt;geomType&gt;.position()...</code>）进行声明；</li>
<li>如数据字段 dim 在 <code>chart.source()</code> 和 <code>chart.col()</code> 中均有定义，那么 <code>chart.col()</code> 中的配置会覆盖 <code>chart.source()</code> 中的配置。 </li>
</ol>
<h4 id="参数">参数</h4><ul>
<li><p><code>dim</code>: String</p>
<p>数据源中对应的字段名，表示只为该 dim 进行列定义。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>用于数据字段的定义，如数据的类型，显示别名，时间类型的格式等，不同的数字类型的配置项不同，<a href="/g2/api/scale.html">详情参考</a>。</p>
</li>
</ul>
<h4 id="代码">代码</h4><div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> data = [
  {type: <span class="number">0</span>, value: <span class="number">1</span>},
  {type: <span class="number">1</span>, value: <span class="number">2</span>},
  {type: <span class="number">2</span>, value: <span class="number">3</span>},
];

chart.col(<span class="string">'type'</span>, {
  type: <span class="string">'cat'</span>, <span class="comment">// 声明 type 字段为分类类型</span>
  values: [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>] <span class="comment">// 重新显示的值</span>
  alias: <span class="string">'类型'</span> <span class="comment">// 设置属性的别名</span>
});</code></pre></div><h3 id="axis"><a href="#axis">axis</a></h3><p>方法名：<code>chart.axis(dim, cfg)</code></p>
<p>说明：配置图表坐标轴。</p>
<h4 id="chart-axis-false">chart.axis(false)</h4><p>不展示所有的坐标轴。</p>
<h4 id="chart-axis-dim-cfg">chart.axis(dim, cfg)</h4><h5 id="参数">参数</h5><ul>
<li><p><code>dim</code>: String</p>
<p>dim 对应数据源中的字段名，即指定设置该字段对应的坐标轴显示样式。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>设置坐标轴配置信息，如果值为 <code>false</code>，表示不显示该字段对应的坐标轴。可配置属性如下：</p>
</li>
</ul>
<p><img src="https://zos.alipayobjects.com/skylark/64749a71-9ed4-4f35-92cc-52f93bf696ec/attach/2378/14266f0ebe1ff4f1/image.png" alt="image"></p>
<div class="highlight"><pre><code class="javascript">chart.axis(<span class="string">'dim'</span>, <span class="literal">false</span>); <span class="comment">// 不显示该字段对应的坐标轴</span>
chart.axis(<span class="string">'dim'</span>, {
  position: <span class="string">'top'</span>, <span class="comment">// 设置坐标轴的显示位置，可取值 top bottom left right</span>
  formatter: <span class="function"><span class="keyword">function</span><span class="params">(dimValue)</span> {</span>
    <span class="keyword">return</span> (dimValue / <span class="number">1000</span>).toFixed(<span class="number">0</span>) + <span class="string">'k'</span>;
  }, <span class="comment">// 回调函数，用于格式化坐标轴上显示的文本信息</span>
  line: {
    lineWidth: <span class="number">1</span>, <span class="comment">// 设置线的宽度</span>
    stroke: <span class="string">'#ccc'</span> <span class="comment">//  设置线的颜色</span>
  }, <span class="comment">// 设置坐标轴线的样式，如果值为 null，则不显示坐标轴线 图形属性</span>
  labels: {
    label: {
      textAlign: <span class="string">'center'</span>, <span class="comment">// 文本对齐方向，可取值为： start middle end</span>
      fill: <span class="string">'#404040'</span>, <span class="comment">// 文本的颜色</span>
      fontSize: <span class="string">'12'</span>, <span class="comment">// 文本大小</span>
      fontWeight: <span class="string">'bold'</span>, <span class="comment">// 文本粗细</span>
      rotate: <span class="number">30</span> * Math.PI / <span class="number">180</span>, <span class="comment">// 文本旋转 30 度，需要将 30 度转化为弧度，2.3.0 及以上版本只支持弧度设置</span>
      textBaseline: <span class="string">'top'</span> <span class="comment">// 文本基准线，可取 top middle bottom，默认为middle</span>
    }, <span class="comment">// 设置坐标轴文本的显示样式，如果值为 null，则不显示坐标轴文本</span>
    autoRotate: <span class="literal">true</span> <span class="comment">// 是否需要自动旋转</span>
  },
  title: {
    fontSize: <span class="string">'12'</span>,
    textAlign: <span class="string">'center'</span>,
    fill: <span class="string">'#999'</span>,
    fontWeight: <span class="string">'bold'</span>
  }, <span class="comment">// 坐标轴标题设置，如果值为 null，则不显示标题</span>
  tickLine: {
    lineWidth: <span class="number">1</span>, <span class="comment">// 刻度线宽</span>
    stroke: <span class="string">'#ccc'</span>, <span class="comment">// 刻度线的颜色</span>
    value: <span class="number">5</span>, <span class="comment">// 刻度线的长度</span>
  }, <span class="comment">// 坐标轴刻度线配置</span>
  titleOffset: <span class="number">45</span>, <span class="comment">// 设置标题 title 距离坐标轴线的距离</span>
  labelOffset: <span class="number">20</span>, <span class="comment">// 设置坐标轴文本 label 距离坐标轴线的距离</span>
  grid: {
    type: <span class="string">'polygon'</span>, <span class="comment">// 用于极坐标下网格线样式的配置</span>
    odd: {
      fill: <span class="string">'#ccc'</span>,
      opacity: <span class="number">0.3</span>,
      stroke: <span class="string">'#999'</span>
    }, <span class="comment">// 奇数项背景样式设置</span>
    even: {
      fill: <span class="string">'#ccc'</span>,
      opacity: <span class="number">0.3</span>,
      stroke: <span class="string">'#999'</span>
    }, <span class="comment">// 偶数项背景样式设置</span>
    line: {
      stroke: <span class="string">'#d9d9d9'</span>, <span class="comment">// 网格线的颜色</span>
      lineWidth: <span class="number">1</span>, <span class="comment">// 网格线的宽度</span>
      lineDash: [<span class="number">4</span>, <span class="number">4</span>] <span class="comment">// 网格线的虚线配置，第一个参数描述虚线的实部占多少像素，第二个参数描述虚线的虚部占多少像素</span>
    } <span class="comment">// 设置坐标轴网格线，如果 grid: null 则代表不绘制网格线</span>
  }, <span class="comment">// 坐标轴栅格线的配置信息，默认只有左边的坐标轴带有栅格线，null 为不显示。</span>
  gridAlign: <span class="string">'start'</span><span class="comment">// 栅格的位置跟坐标轴刻度线(tickLine)的对齐方式，当前仅支持 start 和 middle</span>
});</code></pre></div><h3 id="legend"><a href="#legend">legend</a></h3><p>方法名：<code>chart.legend(dim, cfg)</code></p>
<p>说明：设置图例样式。</p>
<h4 id="chart-legend-false">chart.legend(false)</h4><p>不显示所有的图例。</p>
<h4 id="chart-legend-cfg">chart.legend(cfg)</h4><p>为默认的图例进行配置，在<a href="/g2/doc/tutorial/start/legend.html">图例</a>章节我们提到过，shape, color, size 这三个图形属性如果判断接收的参数是数据源的字段时，会自动生成对应的图例。所以当 <code>chart.legend()</code> 第一个参数是一个 Object 对象时，表示默认为所有自动生成的图例设置样式。</p>
<p><img src="https://zos.alipayobjects.com/skylark/076ecc93-81e2-4826-8625-20c90124c1cd/attach/3378/abbffc526485620b/image.png" alt="image"></p>
<h5 id="参数">参数</h5><ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>分类类型和连续类型的配置有一定的区别，下面列出了这两种类型支持的可配置的属性：</p>
<p><strong>注意</strong>：选中模式配置属性 <code>selectedMode</code>， 在 <strong>G2@2.3.0 及以上</strong> 已改为 <code>mode</code>，2.3.0 以下版本请使用 <code>selectedMode</code>。</p>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 分类类型图例</span>
chart.legend({
  position: <span class="string">'right'</span>, <span class="comment">// 图例的显示位置，有 'top','left','right','bottom'四种位置，默认是'right'。</span>
  leaveChecked: <span class="literal">false</span>, <span class="comment">// 是否保留一项不能取消勾选，默认为 false，即不能取消勾选。</span>
  mode: <span class="string">'multiple'</span> || <span class="string">'single'</span> || <span class="literal">false</span>, <span class="comment">// 设置图例筛选模式，默认为 'multiple' 多选，'single' 表示单选，false 表示禁用筛选</span>
  title: <span class="literal">null</span>, <span class="comment">// 是否展示图例的标题，null 为不展示，默认 top bottom 两个位置的图例不展示标题。</span>
  spacingX: <span class="number">10</span>, <span class="comment">// 用于 position 为 top 或者 bottom 时调整子项之间的水平距离</span>
  spacingY: <span class="number">12</span>, <span class="comment">// 用于 position 为 left 或者 right 时调整子项之间的垂直距离</span>
  unChecked: <span class="string">'#CCC'</span>, <span class="comment">// 未选中时 marker 的颜色</span>
  wordSpaceing: <span class="number">2</span>,  <span class="comment">// marker 和文本之间的距离</span>
  dx: <span class="number">5</span>, <span class="comment">// 整个图例的水平偏移距离</span>
  dy: <span class="number">10</span>, <span class="comment">// 整个图例的垂直偏移距离</span>
  itemWrap: <span class="literal">false</span>, <span class="comment">// 是否自动换行，默认为 false，true 为自动换行</span>
  word: {
    fill: <span class="string">'red'</span>,
    fontSize: <span class="number">14</span>
  }, <span class="comment">// 图例各个子项文本的颜色</span>
  back: {
    fill: <span class="string">'red'</span>
  }, <span class="comment">// 图例外边框和背景的配置信息</span>
  formatter:  <span class="function"><span class="keyword">function</span><span class="params">(val)</span> {</span>
    <span class="keyword">return</span> val + <span class="string">'%'</span>;
  }, <span class="comment">// 格式化图例项的文本显示</span>
  marker: <span class="string">'circle'</span>, <span class="string">'square'</span>, <span class="string">'bowtie'</span>, <span class="string">'diamond'</span>, <span class="string">'hexagon'</span>, <span class="string">'triangle'</span>, <span class="string">'triangle-down'</span>, <span class="string">'hollowCircle'</span>, <span class="string">'hollowSquare'</span>, <span class="string">'hollowBowtie'</span>, <span class="string">'hollowDiamond'</span>, <span class="string">'hollowHexagon'</span>, <span class="string">'hollowTriangle'</span>, <span class="string">'hollowTriangle-down'</span>, <span class="string">'cross'</span>, <span class="string">'tick'</span>, <span class="string">'plus'</span>, <span class="string">'hyphen'</span>, <span class="string">'line'</span> <span class="comment">// 配置 marker 的显示形状</span>
});</code></pre></div><div class="highlight"><pre><code class="javascript"><span class="comment">// 连续类型图例</span>
chart.legend({
  mode: <span class="literal">false</span>, <span class="comment">// 关闭连续图例的筛选功能，默认为开启状态</span>
  width: <span class="number">30</span>, <span class="comment">// 连续图例宽度</span>
  height: <span class="number">80</span>, <span class="comment">// 连续图例高度度</span>
  position: <span class="string">'right'</span>, <span class="comment">// 图例的显示位置，有 'top','left','right','bottom'四种位置，默认是'right'。</span>
  title: <span class="literal">null</span>, <span class="comment">// 图例的标题配置，null 为不展示，默认 top bottom 两个位置的图例不展示。</span>
  word: {
    fill: <span class="string">'red'</span>
  }, <span class="comment">// 文本属性</span>
  back: {
    fill: <span class="string">'red'</span>
  } <span class="comment">// 图例外边框和背景的配置信息，是一个矩形 图形属性</span>
});</code></pre></div><h4 id="chart-legend-dim-cfg">chart.legend(dim, cfg)</h4><h5 id="参数">参数</h5><ul>
<li><p><code>dim</code>: String</p>
<p>可以传入对应图例的数据源的数据字段名。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>为对应字段的图例图例配置信息，属性同上述，这里不再说明。</p>
</li>
</ul>
<h3 id="coord"><a href="#coord">coord</a></h3><p>方法名：<code>chart.coord(type[, cfg])</code></p>
<p>说明：设置图表坐标系，并可对坐标系进行各种操作。注意 <code>chart.coord(type[, cfg])</code> 操作<strong>返回的不是 <code>chart</code> 对象</strong>，而是同 Coord 坐标系有关的一个辅助类，以便进行坐标系的各种变换。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>type</code>: String</p>
<p>坐标系的类型，具体包括：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>type</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>rect</code></td>
<td>默认类型，直角坐标系，由 x, y 两个垂直的维度构成。</td>
<td><a href="/g2/demo/01-point/scatter-a.html"><img src="../../static/images/g2/01-point/scatter-a.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td> <code>polar</code></td>
<td>极坐标系，由角度和半径 2 个维度构成。</td>
<td><a href="/g2/demo/16-polar/polar-interval.html"><img src="../../static/images/g2/16-polar/polar-interval.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td><code>clock</code></td>
<td>极坐标的一种，用于绘制时钟的坐标系。</td>
<td><a href="/g2/demo/12-dashboards/clock.html"><img src="../../static/images/g2/12-dashboards/clock.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td> <code>gauge</code></td>
<td>极坐标的一种，仪表盘坐标系。</td>
<td><a href="/g2/demo/12-dashboards/dashboard.html"><img src="../../static/images/g2/12-dashboards/dashboard.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td> <code>theta</code></td>
<td>一种半径固定的极坐标系，常用于饼图。</td>
<td><a href="/g2/demo/05-pie/pie.html"><img src="../../static/images/g2/05-pie/pie.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td> <code>map</code></td>
<td>地理坐标系，支持不同类型的地理投影</td>
<td><a href="/g2/demo/10-map/world-albers.html"><img src="../../static/images/g2/10-map/world-albers.png" style="width: 300px;"></a></td>
</tr>
<tr>
<td> <code>helix</code></td>
<td>螺旋坐标系，常用于周期性数据</td>
<td><img src="../../static/images/helix.png" style="width: 300px;"></td>
</tr>
</tbody>
</table>
<ul>
<li><p><code>cfg</code>: Object</p>
<p>【可选】 坐标系的配置信息。</p>
<p>对于 type 为 <code>polar</code>、<code>theta</code> 类型的极坐标系，其可配置的 cfg 属性如下：</p>
<div class="highlight"><pre><code class="javascript">chart.coord(<span class="string">'polar | theta'</span>, {
radius: <span class="number">0.5</span>, <span class="comment">// 设置半径，值为 0 至 1 的小数</span>
inner: <span class="number">0.3</span> <span class="comment">// 内部极坐标系的半径，[0 - 1]的小数</span>
startAngle: 弧度, <span class="comment">// 起始角度</span>
endAngle: 弧度 <span class="comment">// 结束角度</span>
});</code></pre></div><p>对于 <code>map</code> 类型的坐标系，情况比较特殊，对于不同的投影支持的配置参数不同。目前，您可以直接复制下列代码即可使用 G2 提供的 <code>map</code> 坐标系。</p>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 适用于中国地图的 albers 投影</span>
chart.coord(<span class="string">'map'</span>, {
projection: <span class="string">'albers'</span>, <span class="comment">// 指定投影方法</span>
basic: [<span class="number">110</span>, <span class="number">0</span>, <span class="number">25</span>, <span class="number">47</span>], <span class="comment">// 指定投影方法的基本参数，[λ0, φ0, φ1, φ2] 分别表示中央经度、坐标起始纬度、第一标准纬度、第二标准纬度</span>
max: [<span class="number">16.573</span>, -<span class="number">13.613</span>], <span class="comment">// 指定投影后最大的坐标点</span>
min: [-<span class="number">27.187</span>, -<span class="number">49.739</span>] <span class="comment">// 指定投影后最小的坐标点</span>
});
<span class="comment">// 适用于世界地图的 albers 投影</span>
chart.coord(<span class="string">'map'</span>, {
projection: <span class="string">'albers'</span>, <span class="comment">// 指定投影方法</span>
basic: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">60</span>], <span class="comment">// 指定投影方法的基本参数，[λ0, φ0, φ1, φ2] 分别表示中央经度、坐标起始纬度、第一标准纬度、第二标准纬度</span>
max: [<span class="number">161.89</span>, <span class="number">120.635</span>], <span class="comment">// 指定投影后最大的坐标点</span>
min: [-<span class="number">144.485</span>, -<span class="number">27.666</span>] <span class="comment">// 指定投影后最小的坐标点</span>
});
<span class="comment">// 适用于世界地图的 mercator 投影</span>
chart.coord(<span class="string">'map'</span>, {
projection: <span class="string">'mercator'</span>,
max: [<span class="number">180</span>, <span class="number">165.65</span>], <span class="comment">// 指定投影后最大的坐标点</span>
min: [-<span class="number">180</span>, -<span class="number">67.21</span>] <span class="comment">// 指定投影后最小的坐标点</span>
});
<span class="comment">// 使用与中国地图的 mercator 投影</span>
chart.coord(<span class="string">'map'</span>, {
projection: <span class="string">'mercator'</span>,
max: [<span class="number">134.77</span>, <span class="number">63.68</span>],
min: [<span class="number">73.60</span>, <span class="number">18.48</span>]
});</code></pre></div><p>对于螺旋坐标系，其可配置的 cfg 属性如下：</p>
<div class="highlight"><pre><code class="javascript">chart.coord(<span class="string">'helix'</span>, {
startAngle: Math.PI, <span class="comment">// 螺旋线起点弧度</span>
endAngle: <span class="number">7</span> * Math.PI <span class="comment">// 螺线线终点弧度</span>
});</code></pre></div></li>
</ul>
<h4 id="坐标系变换">坐标系变换</h4><p>可支持的变换操作：</p>
<ul>
<li><p>rotate(angle): 坐标系旋转，angle 为旋转的角度，是一个度数值。</p>
</li>
<li><p>scale(sx, sy): 坐标系缩放，sx 代表 x 方向缩放比例，sy 代表 y 方向缩放比例。</p>
</li>
<li><p>reflect(): 坐标系转置，将 x 或者 y 的起始、结束值倒置</p>
</li>
<li><p>transpose(): 将坐标系 x 轴和 y 轴转置。</p>
</li>
</ul>
<p>上述操作均可支持链式调用，如下：</p>
<div class="highlight"><pre><code class="javascript">chart.coord().rotate(<span class="number">70</span>).scale(<span class="number">1.5</span>, <span class="number">1.5</span>).reflect(<span class="string">'xy'</span>).transpose();</code></pre></div><h3 id="facet"><a href="#facet">facet</a></h3><p>方法名：<code>chart.facet(dimArray, cfg)</code></p>
<p>说明：设置分面的切割维度和配置信息。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>dimArray</code>: Array</p>
<p>用于切割分面的数据源字段，是一个数组 Array。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>分面的配置信息。不同类型的分面除了含有共同的配置项外，还对应各自的配置项。</p>
<p><img src="https://zos.alipayobjects.com/skylark/4229b88e-48f7-4bbc-8eff-807faacd8022/attach/3378/ef8f0b629b1d355e/image.png" alt="image"></p>
<ul>
<li>通用的配置项</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.facet([dims], {
type: <span class="string">'rect'</span> | <span class="string">'list'</span> | <span class="string">'circle'</span> | <span class="string">'tree'</span> | <span class="string">'mirror'</span>, <span class="comment">// 设置分面的布局类型</span>
margin: <span class="number">10</span>, <span class="comment">// 各个分面之间的距离，同 CSS 盒模型中的 margin</span>
facetTitle: { <span class="comment">// 各个分面标题的样式配置</span>
  titleOffset: <span class="number">16</span>, <span class="comment">// 标题距离内容区的偏移</span>
  colDimTitle: {
    title: {
      fontSize: <span class="number">14</span>,
      textAlign: <span class="string">'center'</span>,
      fill: <span class="string">'#999'</span>
    }
  },
  colTitle: { 
    title: {
      fontSize: <span class="number">12</span>,
      textAlign: <span class="string">'center'</span>,
      fill: <span class="string">'#999'</span>
    }
  },
  rowTitle: {
    title: {
      fontSize: <span class="number">12</span>,
      textAlign: <span class="string">'center'</span>,
      rotate: <span class="number">90</span>,
      fill: <span class="string">'#999'</span>
    }
  },
  rowDimTitle: {
    title: {
      fontSize: <span class="number">12</span>,
      textAlign: <span class="string">'center'</span>,
      rotate: <span class="number">90</span>,
      fill: <span class="string">'#999'</span>
    }
  }
}
});</code></pre></div><p>下面列出每一种分面类型各自的参数配置项：</p>
<ul>
<li><a href="/g2/doc/tutorial/start/facet.html#rect-矩形分面">rect 矩阵分面</a></li>
</ul>
<p>无</p>
<ul>
<li><a href="/g2/doc/tutorial/start/facet.html#list-水平列表分面">list 列表型分面</a></li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.facet([dims], {
type: <span class="string">'list'</span>,
cols: <span class="number">2</span> <span class="comment">// 每行有只展示 2 个分面，超过 2 个则自动折行</span>
});</code></pre></div><ul>
<li><a href="/g2/doc/tutorial/start/facet.html#circle-圆形分面">circle 圆形分面</a></li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.facet([dims], {
type: <span class="string">'circle'</span>
});</code></pre></div><ul>
<li><a href="/g2/doc/tutorial/start/facet.html#tree-树形分面">tree 树形分面</a></li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.facet([dims], {
type: <span class="string">'tree'</span>,
smooth: <span class="literal">true</span>, <span class="comment">// 各个树节点的连接线是否是平滑的曲线</span>
line: {
  stroke: <span class="string">'red'</span>, <span class="comment">// 连接边的颜色</span>
  lineWidth: <span class="number">1</span> <span class="comment">// 连接边的粗细</span>
} <span class="comment">// 连接各个树节点的线的配置项</span>
});</code></pre></div><ul>
<li><a href="/g2/doc/tutorial/start/facet.html#mirror-镜像分面">mirror 镜像分面</a></li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.facet([dims], {
type: <span class="string">'mirror'</span>,
transpose: <span class="literal">true</span> <span class="comment">// 设置镜像是否反转，默认为 false，不翻转， true 则翻转</span>
});</code></pre></div></li>
</ul>
<h3 id="tooltip"><a href="#tooltip">tooltip</a></h3><p>方法名：<code>chart.tooltip([enable,] cfg)</code></p>
<p>说明：设置显示的提示信息的内容</p>
<h4 id="chart-tooltip-false">chart.tooltip(false)</h4><p>表示禁用 tooltip。</p>
<h4 id="chart-tooltip-true-cfg">chart.tooltip(true, cfg)</h4><h5 id="参数">参数</h5><ul>
<li><code>enable</code>: Boolean</li>
</ul>
<p>当 enable 为 true 时，表示 tooltip 可用，主要用于关闭 tooltip 之后重新开启。默认为 true，可不设置。</p>
<ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>tooltip 配置信息，当对 G2 自动生成的 tooltip 展示信息不满意时，可以通过这个方法进行部分自定义，如下所示：</p>
<p>注：当然配置 tooltip 还有其他多种方法，可详见教程：<a href="/g2/doc/tutorial/start/tooltip.html">tooltip 提示信息</a></p>
<p><img src="https://zos.alipayobjects.com/skylark/750725d4-2e58-4420-b886-4abe1c0335c2/attach/2378/ad8fe2daa557ad62/image.png" alt="image"></p>
<div class="highlight"><pre><code class="javascript">chart.tooltip(<span class="literal">true</span>, {
  title: <span class="literal">null</span>, <span class="comment">// 用于控制是否显示 tooltip 框内的 title</span>
  map: { <span class="comment">// 用于指定 tooltip 内显示内容同原始数据字段的映射关系复制代码</span>
    title: <span class="string">'数据字段名或者常量'</span>, <span class="comment">// 为数据字段名时则显示该字段名对应的数值，常量则显示常量</span>
    name: <span class="string">'数据字段名或者常量'</span>, <span class="comment">// 为数据字段名时则显示该字段名对应的数值，常量则显示常量</span>
    value: <span class="string">'数据字段名'</span> <span class="comment">// 为数据字段名时则显示该字段名对应的数值</span>
  },
  offset: <span class="number">15</span>, <span class="comment">// 偏移量，设置 tooltip 显示位置距离 x 轴方向上的偏移</span>
  crosshairs: <span class="literal">true</span>, <span class="comment">// 是否展示 tooltip 的辅助线，默认为 false，不展示</span>
  crossLine: {
    stroke: <span class="string">'#666'</span>, <span class="comment">// 辅助线的颜色</span>
    lineWidth: <span class="number">2</span>, <span class="comment">// 辅助线的宽度</span>
    lineDash: [<span class="number">2</span>, <span class="number">3</span>] <span class="comment">// 设置虚线样式</span>
  }, <span class="comment">// crosshairs 为 true 时，为辅助线设置样式</span>
  padding: [<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>], <span class="comment">// 提示框内边距</span>
});</code></pre></div><p><code>crosshairs</code> 参数支持三种展示形式：</p>
<table>
<thead>
<tr>
<th>配置</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>crosshairs: true</code></td>
<td>启用辅助线，默认为竖直方向的辅助线。</td>
</tr>
<tr>
<td><code>crosshairs: {type: &#39;x&#39;}</code></td>
<td>启用水平方向的辅助线。</td>
</tr>
<tr>
<td><code>crosshairs: {type: &#39;cross&#39;}</code></td>
<td>启用十字辅助线，水平和数值方向均有。</td>
</tr>
</tbody>
</table>
<p>当需要使用自定义的 html 模板生成 tooltip 时，需要对 tooltip 进行如下配置：</p>
<div class="highlight"><pre><code class="javascript">chart.tooltip(<span class="literal">true</span>, {
  custom: <span class="literal">true</span>, <span class="comment">// 表示使用自定义的模板显示 tooltip</span>
  html: <span class="string">'&lt;div class="ac-tooltip" style="position:absolute;visibility: hidden;"&gt;&lt;h4 class="ac-title"&gt;&lt;/h4&gt;&lt;table class="ac-list custom-table"&gt;&lt;/table&gt;&lt;/div&gt;'</span>, <span class="comment">// tooltip 的 html 外层模板</span>
  itemTpl: <span class="string">'&lt;tr&gt;&lt;td&gt;{index}&lt;/td&gt;&lt;td style="color:{color}"&gt;{name}&lt;/td&gt;&lt;td&gt;{value}k&lt;/td&gt;&lt;/tr&gt;'</span>, <span class="comment">// 使用 html 时每一个显示项的模板，默认支持 index, color, name, value 这四个字段。</span>
  offset: <span class="number">50</span>, <span class="comment">// 偏移量，设置tooltip 显示位置距离 x 轴方向上的偏移</span>
  customFollow: <span class="literal">false</span> <span class="comment">// 设置 tooltip 是否跟随鼠标移动，默认为 true，跟随。</span>
});</code></pre></div><h5 id="自定义-html-模板示例">自定义 html 模板示例</h5><p><div id="c1" class="chart-container"></div></p>
<style>
  .ac-tooltip{
    position:absolute;
    visibility:hidden;
    border : 1px solid #efefef;
    background-color: white;
    opacity: .8;
    padding: 5px 15px;

    transition: top 200ms,left 200ms;
    -moz-transition:  top 200ms,left 200ms;  /* Firefox 4 */
    -webkit-transition:  top 200ms,left 200ms; /* Safari 和 Chrome */
    -o-transition:  top 200ms,left 200ms;
  }

 .custom-table {
    margin: 10px;
 }

 .custom-table td{
    border: 1px solid #cdcdcd;
    padding: 5px 8px;
 }
</style>

<script>
  var data = [
    {"month":0,"tem":7,"city":"tokyo"},
    {"month":1,"tem":6.9,"city":"tokyo"},
    {"month":2,"tem":9.5,"city":"tokyo"},
    {"month":3,"tem":14.5,"city":"tokyo"},
    {"month":4,"tem":18.2,"city":"tokyo"},
    {"month":5,"tem":21.5,"city":"tokyo"},
    {"month":6,"tem":25.2,"city":"tokyo"},
    {"month":7,"tem":26.5,"city":"tokyo"},
    {"month":8,"tem":23.3,"city":"tokyo"},
    {"month":9,"tem":18.3,"city":"tokyo"},
    {"month":10,"tem":13.9,"city":"tokyo"}
  ];
  var chart = new G2.Chart({
    id: 'c1',
    width: 800,
    height: 400
  });
  var defs = {'month':{
    type: 'cat',
    values: ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月']
  }};

  chart.source(data,defs);

  chart.tooltip(true,{ // 第一个参数是控制是否显示tooltip，可以设置为false，不显示tooltip
    custom: true,
    html:  '<div class="ac-tooltip" style="position:absolute;visibility: hidden;"><p class="ac-title"></p><table class="ac-list custom-table"></table></div>', // tooltip的外层模板
    itemTpl: '<tr><td>{index}</td><td style="color:{color}">{name}</td><td>{value}</td></tr>', // 支持的字段 index,color,name,value
    offset: 50
  });
  chart.line().position('month*tem');
  chart.render();
</script>

<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> data = [
    {<span class="string">"month"</span>:<span class="number">0</span>,<span class="string">"tem"</span>:<span class="number">7</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">1</span>,<span class="string">"tem"</span>:<span class="number">6.9</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">2</span>,<span class="string">"tem"</span>:<span class="number">9.5</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">3</span>,<span class="string">"tem"</span>:<span class="number">14.5</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">4</span>,<span class="string">"tem"</span>:<span class="number">18.2</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">5</span>,<span class="string">"tem"</span>:<span class="number">21.5</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">6</span>,<span class="string">"tem"</span>:<span class="number">25.2</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">7</span>,<span class="string">"tem"</span>:<span class="number">26.5</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">8</span>,<span class="string">"tem"</span>:<span class="number">23.3</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">9</span>,<span class="string">"tem"</span>:<span class="number">18.3</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>},
    {<span class="string">"month"</span>:<span class="number">10</span>,<span class="string">"tem"</span>:<span class="number">13.9</span>,<span class="string">"city"</span>:<span class="string">"tokyo"</span>}
  ];
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c1'</span>,
    width: <span class="number">800</span>,
    height: <span class="number">400</span>
  });
  <span class="keyword">var</span> defs = {<span class="string">'month'</span>:{
    type: <span class="string">'cat'</span>,
    values: [<span class="string">'一月'</span>,<span class="string">'二月'</span>,<span class="string">'三月'</span>,<span class="string">'四月'</span>,<span class="string">'五月'</span>,<span class="string">'六月'</span>,<span class="string">'七月'</span>,<span class="string">'八月'</span>,<span class="string">'九月'</span>,<span class="string">'十月'</span>,<span class="string">'十一月'</span>,<span class="string">'十二月'</span>]
  }};

  chart.source(data,defs);

  chart.tooltip(<span class="literal">true</span>,{ <span class="comment">// 第一个参数是控制是否显示tooltip，可以设置为false，不显示tooltip</span>
    custom: <span class="literal">true</span>,
    html:  <span class="string">'&lt;div class="ac-tooltip" style="position:absolute;visibility: hidden;"&gt;&lt;p class="ac-title"&gt;&lt;/p&gt;&lt;table class="ac-list custom-table"&gt;&lt;/table&gt;&lt;/div&gt;'</span>, <span class="comment">// tooltip的外层模板</span>
    itemTpl: <span class="string">'&lt;tr&gt;&lt;td&gt;{index}&lt;/td&gt;&lt;td style="color:{color}"&gt;{name}&lt;/td&gt;&lt;td&gt;{value}&lt;/td&gt;&lt;/tr&gt;'</span>, <span class="comment">// 支持的字段 index,color,name,value</span>
    offset: <span class="number">50</span>
  });
  chart.line().position(<span class="string">'month*tem'</span>);
  chart.render();</code></pre></div><h4 id="chart-tooltip-cfg">chart.tooltip(cfg)</h4><p>默认显示 tooltip，cfg 配置信息同上。</p>
<h3 id="guide"><a href="#guide">guide</a></h3><p>方法名：<code>chart.guide().&lt;guideType&gt;()</code></p>
<p>说明：为图表添加静态的辅助标记，如辅助线、辅助图片、辅助文本等，具体介绍可详见<a href="/g2/doc/tutorial/start/guide.html">guide 教程</a>。<code>chart.guide()</code> 方法同 <code>chart.coord()</code> 一样会返回一个 <code>GuideAssist</code> 对象，该对象支持以下类型的辅助标记元素的绘制:</p>
<h4 id="chart-guide-line-from-to-cfg">chart.guide().line(from, to, cfg)</h4><p>绘制辅助线。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
<li><code>to</code>: Array</li>
</ul>
<p>分别表示线的起点和终点，这两个参数均为数组 Array 格式： [x, y]：</p>
<ul>
<li>x：是 x 轴坐标对应字段的值，是原始数据值，不是画布坐标。</li>
<li>y：是 y 轴坐标对应字段的值，是原始数据值，不是画布坐标。</li>
</ul>
<p>当然，如果 x、y 值为分类类型的话，则支持传入索引值。</p>
<p>另外还提供了两个关键字： <code>min</code> <code>max</code> 用于表示对应字段的最大值和最小值，主要用户快速定位坐标轴的起点和终点。</p>
<ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>用于辅助线的图形属性配置。</p>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助线</span>
chart.guide().line([startXValue, startYValue], [endXValue, endYValue], {
  stroke: <span class="string">'#999'</span>, <span class="comment">// 线的颜色</span>
  lineDash: [<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>], <span class="comment">// 虚线的设置</span>
  lineWidth: <span class="number">3</span> <span class="comment">// 线的宽度</span>
});</code></pre></div><h4 id="chart-guide-image-from-to-cfg">chart.guide().image(from[, to], cfg)</h4><p>绘制辅助图片。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
<li><code>to</code>: Array</li>
</ul>
<p>同 <code>chart.guide.line()</code>，但是这里的 <code>to</code> 参数可选。</p>
<ul>
<li><code>cfg</code>: Object</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助图片</span>
chart.guide().image([startXValue, startYValue], [endXValue, endYValue], {
  src: <span class="string">'http://gtms02.alicdn.com/VXXXXaZX.png'</span>, <span class="comment">// 图片路径</span>
  width: <span class="number">160</span>, <span class="comment">// 宽度，可以不设置，如果设置了 [endXValue, startYValue]，此属性无效</span>
  height: <span class="number">230</span> <span class="comment">// 高度，可以不设置，如果设置了 [endXValue, endYValue]，此属性无效</span>
});</code></pre></div><h4 id="chart-guide-text-from-text-cfg">chart.guide().text(from, text[, cfg])</h4><p>绘制辅助文本。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
</ul>
<p>同 <code>chart.guide.line()</code>。</p>
<ul>
<li><code>text</code>: String</li>
</ul>
<p>辅助文本显示内容。</p>
<ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>辅助文本的显示样式配置，可选，不配置使用默认 G2 提供的配置。</p>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助文本</span>
chart.guide().text([startXValue, startYValue], <span class="string">'我是辅助文本呀！'</span>, {
  fill: <span class="string">'#666'</span>, <span class="comment">// 文本颜色</span>
  fontSize: <span class="string">'12'</span>, <span class="comment">// 文本大小</span>
  fontWeight: <span class="string">'bold'</span> <span class="comment">// 文本粗细</span>
});</code></pre></div><h4 id="chart-guide-rect-from-to-cfg">chart.guide().rect(from, to, [cfg])</h4><p>绘制辅助框。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
<li><code>to</code>: Array</li>
</ul>
<p>同 <code>chart.guide.line()</code>。</p>
<ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>辅助框的显示样式配置，可选，不配置使用默认 G2 提供的配置。</p>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助框</span>
chart.guide().rect([startXValue, startYValue], [endXValue, endYValue], {
  lineWidth: <span class="number">0</span>, <span class="comment">// 辅助框的边框宽度</span>
  fill: <span class="string">'#f80'</span>, <span class="comment">// 辅助框填充的颜色</span>
  fillOpacity: <span class="number">0.1</span>, <span class="comment">// 辅助框的背景透明度</span>
  stroke: <span class="string">'#ccc'</span> <span class="comment">// 辅助框的边框颜色设置</span>
});</code></pre></div><h4 id="chart-guide-tag-from-to-text-cfg">chart.guide().tag(from, to, text, [cfg])</h4><p>绘制辅助标记。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
<li><code>to</code>: Array</li>
</ul>
<p>同 <code>chart.guide.line()</code>。</p>
<ul>
<li><p><code>text</code>: String</p>
<p>辅助标记文本内容。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>辅助标记的显示样式配置，可选，不配置使用默认 G2 提供的配置。</p>
</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助标记</span>
chart.guide().tag([startXValue, startYValue], [endXValue, endYValue], <span class="string">'文本'</span>, {
  line: {
    stroke: <span class="string">'#999'</span>,
    lineDash: [<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>]
  }, <span class="comment">// 辅助标记中连接线的样式配置</span>
  text: {
    fill: <span class="string">'#666'</span>,
    fontSize: <span class="string">'12'</span>,
    textAlign: <span class="string">'center'</span>
  }, <span class="comment">// 辅助标记中文本的样式配置</span>
  rect: {
    lineWidth: <span class="number">0</span>,
    fill: <span class="string">'#999'</span>,
    fillOpacity: <span class="number">0.1</span>
  } <span class="comment">// 辅助标记中背景框的样式配置</span>
});</code></pre></div><h4 id="chart-guide-arc-from-to-cfg">chart.guide().arc(from, to, [cfg])</h4><p>绘制辅助弧线。</p>
<h5 id="参数">参数</h5><ul>
<li><code>from</code>: Array</li>
<li><code>to</code>: Array</li>
</ul>
<p>同 <code>chart.guide.line()</code>。</p>
<ul>
<li><p><code>cfg</code>: Object</p>
<p>辅助弧线的显示样式配置，可选，不配置使用默认 G2 提供的配置。</p>
</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助标记</span>
chart.guide().arc([startXValue, startYValue], [endXValue, endYValue], {
  stroke: <span class="string">'#999'</span>, <span class="comment">// 线的颜色</span>
  lineDash: [<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>], <span class="comment">// 虚线的设置</span>
  lineWidth: <span class="number">3</span> <span class="comment">// 线的宽度</span>
});</code></pre></div><h4 id="chart-guide-html-from-html-cfg">chart.guide().html(from, html[, cfg])</h4><p>绘制辅助html。</p>
<h5 id="参数">参数</h5><ul>
<li><p><code>from</code>: Array</p>
<p>文本位置，格式： [x, y]</p>
</li>
<li><p><code>html</code>: String</p>
<p>辅助 html 的自定义内容。</p>
</li>
<li><p><code>cfg</code>: Object</p>
<p>html 的配置信息。包含 align 和 ofsset 两个属性。</p>
<ul>
<li>对齐 align 支持 tr、tc、tl、br、bc、bl、lc、rc、cc 9 点对齐；</li>
<li>偏移坐标 offset，类型：数组 Array， 格式： [x, y]，可选，不配置使用默认 G2 提供的配置。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 添加辅助html</span>
<span class="comment">// 坐标点</span>
<span class="keyword">var</span> point = [<span class="number">3.5</span>,<span class="number">12000</span>];
<span class="comment">//html字符串</span>
<span class="keyword">var</span> tooltipHtml = <span class="string">"&lt;span'&gt;异常值&lt;/span&gt;"</span>;
chart.guide().html(point, tooltipHtml, {
  align:<span class="string">'br'</span>,
  offset:[<span class="number">10</span>, <span class="number">0</span>]
});</code></pre></div><h3 id="filter"><a href="#filter">filter</a></h3><p>方法名：<code>chart.filter(dim, remained)</code></p>
<p>说明：过滤数据，如果存在对应的图例，则过滤掉的字段置灰。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>dim</code>: String </p>
<p>指定过滤数据源的哪一个字段。</p>
</li>
<li><p><code>remained</code>: Array</p>
<p>指定保留的字段值。</p>
<ul>
<li>如果是分类类型，则传入需哟啊保留的值即可；</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.filter(<span class="string">'cut'</span>, [<span class="string">'Ideal'</span>, <span class="string">'Good'</span>]); <span class="comment">// 仅显示切割工艺Ideal,Good的钻石</span></code></pre></div><ul>
<li>如果是连续类型，则传入一个范围区间：</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.filter(<span class="string">'value'</span>, [<span class="number">20</span>, <span class="number">130</span>]);</code></pre></div></li>
</ul>
<h3 id="setmode"><a href="#setMode">setMode</a></h3><p>用于开启和关闭图表交互模式，目前仅支持框选模式。使用如下：</p>
<div class="highlight"><pre><code class="javascript">chart.setMode(<span class="string">'select'</span>); <span class="comment">// 开启框选模式</span>
chart.setMode(<span class="literal">false</span>); <span class="comment">// 关闭框选模式</span></code></pre></div><h3 id="select"><a href="#select">select</a></h3><p>当用于开启框选模式时，通过调用 <code>chart.select(type)</code> 来选择框选的模式。</p>
<p>目前我们提供了如下三种框选交互形式：</p>
<div class="highlight"><pre><code class="javascript">chart.select(<span class="string">'rangeX'</span>); <span class="comment">// 使用 X 轴范围的框选</span>
chart.select(<span class="string">'rangeY'</span>); <span class="comment">// 使用 Y 轴范围的框选</span>
chart.select(<span class="string">'rangeXY'</span>); <span class="comment">// 使用 X 和 Y 轴的框选</span></code></pre></div><h3 id="createview"><a href="#createView">createView</a></h3><p>方法名：<code>chart.createView(cfg)</code></p>
<p>说明：创建视图，返回一个视图对象 View，详见 <a href="/g2/api/view.html">View</a>。</p>
<h4 id="参数">参数</h4><ul>
<li><code>cfg</code>: Object</li>
</ul>
<p>初始化视图对象时的配置项，如下：</p>
<div class="highlight"><pre><code class="javascript">{
  index: <span class="number">0</span>， <span class="comment">// 索引值，用于标定 view</span>
  start: { <span class="comment">// 视图绘图区域的起始点</span>
    x: <span class="number">0</span>,
    y: <span class="number">0</span> 
  },
  end: { <span class="comment">// 视图绘图区域的结束点</span>
    x: <span class="number">1</span>,
    y: <span class="number">1</span>
  },
  data: [], <span class="comment">// 视图源数据</span>
}</code></pre></div><h3 id="removeview"><a href="#removeView">removeView</a></h3><p>方法名： <code>chart.removeView(view)</code></p>
<p>说明：删除指定的视图。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>view</code>: View</p>
<p>需要删除的视图对象。</p>
</li>
</ul>
<h3 id="getview"><a href="#getView">getView</a></h3><p>方法名：<code>chart.getView(index)</code></p>
<p>说明：根据索引值获得视图对象。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>index</code>: String</p>
<p>需要获取的视图的 id 标识。</p>
</li>
</ul>
<h3 id="animate"><a href="#animate1">animate</a></h3><p>方法名：<code>chart.animate(enable)</code></p>
<p>说明：是否执行图表动画。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>enable</code>: Boolean</p>
<p>默认都是执行动画的，除了通过创建 chart 时设置 animate 属性，也可以通过调用该方法开启和关闭动画。</p>
<div class="highlight"><pre><code class="javascript">chart.animate(<span class="literal">false</span>); <span class="comment">// 关闭动画</span></code></pre></div></li>
</ul>
<h3 id="render"><a href="#render">render</a></h3><p>方法名：<code>chart.render()</code></p>
<p>说明：最后一步，绘制图表，当调用这个方法后，图表即可被渲染绘制出来。</p>
<h3 id="clear"><a href="#clear">clear</a></h3><p>方法名：<code>chart.clear()</code></p>
<p>说明：清空图表上所有的绘制内容，但是不销毁图表。</p>
<h3 id="destroy"><a href="#destroy">destroy</a></h3><p>方法名：<code>chart.destroy()</code></p>
<p>说明：销毁图表，删除生成的图表对象。</p>
<h3 id="repaint"><a href="#repaint">repaint</a></h3><p>方法名：<code>chart.repaint()</code></p>
<p>说明：图表重绘。</p>
<h3 id="changedata"><a href="#changeData">changeData</a></h3><p>方法名：<code>chart.changeData(data)</code></p>
<p>说明：用于修改图表的数据源，注意这里 data 的数据结构需要同原始的数据结构保持一致。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>data</code>: Array</p>
<p>新的数据源，一样是 JSON 数组，但是<strong>其数据结构需要同原始的数据结构保持一致</strong>。</p>
</li>
</ul>
<h3 id="changesize"><a href="#changeSize">changeSize</a></h3><p>方法名：<code>chart.changeSize(width, height)</code></p>
<p>说明：更改图表的大小。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>width</code>: Number</p>
<p>图表宽度</p>
</li>
<li><p><code>height</code>: Number</p>
<p>图表高度</p>
</li>
</ul>
<h3 id="forcefit"><a href="#forceFit">forceFit</a></h3><p>方法名：<code>chart.forceFit()</code></p>
<p>说明：当父元素宽度变化时，通过调用此方法达到宽度自适应。当然也可以在创建 chart 实例时设置 <code>forceFit</code> 属性。</p>
<h3 id="getallgeoms"><a href="#getAllGeoms">getAllGeoms</a></h3><p>方法名：<code>chart.getAllGeoms()</code></p>
<p>说明：获取图表中所有的几何标记对象，返回的结果是一个数组： [geom, geom, ...]。</p>
<h3 id="getviews"><a href="#getViews">getViews</a></h3><p>方法名：<code>chart.getViews()</code></p>
<p>说明：获取图表中所有的视图对象，返回的结果是一个数组： [view, view, ...]。</p>
<h3 id="getview"><a href="#getView">getView</a></h3><p>方法名：<code>chart.getView(id)</code></p>
<p>说明：根据传入的 id 属性获取图表中对应的视图对象。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>id</code>: String</p>
<p>view 的 id 属性。</p>
</li>
</ul>
<h3 id="getscale"><a href="#getScale">getScale</a></h3><p>方法名：<code>chart.getScale(dim)</code></p>
<p>说明：dim 为数据源的某个字段名，该方法用于获取该 dim 对应的度量<a href="/g2/api/scale.html">scale</a>对象。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>dim</code>: String</p>
<p>对应数据源中的数据字段。</p>
</li>
</ul>
<h3 id="getposition"><a href="#getPosition">getPosition</a></h3><p>方法名： <code>chart.getPosition({xDim: value, yDim: value})</code></p>
<p>说明：获取原始数据对应在画布空间上的坐标，返回的结果为一个对象，格式如下：</p>
<div class="highlight"><pre><code class="javascript">{
  x: <span class="number">12</span>, <span class="comment">// 画布上的横坐标</span>
  y: <span class="number">34</span> <span class="comment">// 画布上的纵坐标</span>
}</code></pre></div><h4 id="参数">参数</h4><p>参数是一个 Object 类型，结构如下：</p>
<div class="highlight"><pre><code class="javascript">{
  <span class="string">'x 轴对应的字段名'</span>: <span class="string">'该字段名对应的数值'</span>,
  <span class="string">'y 轴对应的字段名'</span>: <span class="string">'该字段名对应的数值'</span>
}</code></pre></div><h4 id="代码实例">代码实例</h4><div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> data = {
  cut: <span class="string">'a'</span>, price: <span class="number">1</span>,
  cut: <span class="string">'b'</span>, price: <span class="number">2</span>,
  cut: <span class="string">'c'</span>, price: <span class="number">3</span>,
  cut: <span class="string">'d'</span>, price: <span class="number">4</span>
};

chart.getPosition({
  cut: <span class="string">'b'</span>,
  price: <span class="number">2</span>
});</code></pre></div><h3 id="getsnaprecords"><a href="#getSnapRecords">getSnapRecords</a></h3><p>方法名：<code>chart.getSnapRecords(point)</code></p>
<p>说明：根据传入的坐标点 point，获取逼近的该坐标点的<strong>所有 shape 的绘制数据</strong>，point 的格式如下，表示的是画布坐标：</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> point= {
  x: <span class="number">100</span>,
  y: <span class="number">200</span>
}</code></pre></div><p>返回结果为一个数组，该 shape 对应的原始数据可以通过 <code>_origin</code> 字段获取。</p>
<p><img src="https://zos.alipayobjects.com/rmsportal/rtLYuqzWZxanKsjicOlM.png"></p>
<h3 id="gettooltipitems"><a href="#getTooltipItems">getTooltipItems</a></h3><p>方法名：<code>chart.getTooltipItems(point)</code></p>
<p>说明：根据传入的坐标点 point，获取当前坐标点上的 tooltip 信息，point 的格式如下，表示的是画布坐标：</p>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> point= {
  x: <span class="number">100</span>,
  y: <span class="number">200</span>
}</code></pre></div><h3 id="showtooltip"><a href="#showTooltip">showTooltip</a></h3><p>方法名：<code>chart.showTooltip(point)</code></p>
<p>说明：根据传入的坐标点显示对应的 tooltip 信息，这个方法通常同 <a href="/g2/api/chart.html#getposition"><code>chart.getPosition({xDim: value, yDim: value})</code></a> 配合使用。</p>
<h4 id="参数">参数</h4><ul>
<li><p><code>point</code>: Object</p>
<p>point 是一个对象，代表画布上的坐标点，参数格式如下：</p>
<div class="highlight"><pre><code class="javascript">{
x: <span class="number">12</span>, <span class="comment">// 画布上的横坐标</span>
y: <span class="number">34</span> <span class="comment">// 画布上的纵坐标</span>
}</code></pre></div></li>
</ul>
<h3 id="downloadimage"><a href="#downloadImage">downloadImage</a></h3><p>方法名：<code>chart.downloadImage()</code> 
说明：提供图表下载功能，同时返回 image 数据。 </p>
<h2 id="事件">事件</h2><p>chart 对象提供了各种事件，方便用户扩展交互。基本的事件用法如下：</p>
<div class="highlight"><pre><code class="javascript">chart.on(<span class="string">'eventType'</span>, fn); <span class="comment">// 添加事件</span>
chart.off(<span class="string">'eventType'</span>, fn); <span class="comment">// 移除事件</span></code></pre></div><p><code>chart.off(&#39;eventType&#39;, fn)</code> 其中如果 fn 不指定，表示删除所有 eventType 事件，如果 eventType 和 fn 都不指定，则表示删除所有事件。</p>
<p>下面列出了 chart 支持的所有事件类型。</p>
<h3 id="plotmove"><a href="#plotmove">plotmove</a></h3><p>鼠标在绘图区域移动时触发，在图表的绘图区域外不触发。</p>
<ul>
<li><code>ev</code> 表示事件触发时返回的对象，包含以下属性<ul>
<li>x：当前鼠标所在的画布上的 x 坐标；</li>
<li>y：当前鼠标所在的画布上的 y 坐标；</li>
<li>target：canvas 对象；</li>
<li>toElement：当前 dom 元素；</li>
<li>shape: 当前鼠标所在的 shape 对象；</li>
<li>views: Array，当前鼠标所在的视图。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.on(<span class="string">'plotmove'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span> {</span>
  <span class="keyword">var</span> point = {
    x: ev.x,
    y: ev.y
  };
  <span class="keyword">var</span> items = chart.getTooltipItems(point);
  console.log(items);
});</code></pre></div><h3 id="plotenter"><a href="#plotenter">plotenter</a></h3><p>当鼠标移动进入绘图区域时触发。</p>
<ul>
<li><code>ev</code> 表示事件触发时返回的对象，包含以下属性<ul>
<li>x：当前鼠标所在的画布上的 x 坐标；</li>
<li>y：当前鼠标所在的画布上的 y 坐标；</li>
<li>target：canvas 对象；</li>
<li>toElement：当前 dom 元素；</li>
<li>views: Array，当前鼠标所在的视图。
。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.on(<span class="string">'plotenter'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span> {</span>
  <span class="keyword">var</span> point = {
    x: ev.x,
    y: ev.y
  };
  <span class="comment">// do something</span>
});</code></pre></div><h3 id="plotleave"><a href="#plotleave">plotleave</a></h3><p>当鼠标移出绘图区域时触发。</p>
<ul>
<li><code>ev</code> 表示事件触发时返回的对象，包含以下属性<ul>
<li>x：当前鼠标所在的画布上的 x 坐标；</li>
<li>y：当前鼠标所在的画布上的 y 坐标；</li>
<li>target：canvas 对象；</li>
<li>toElement：当前 dom 元素；</li>
<li>views: Array，当前鼠标所在的视图。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><code class="javascript">chart.on(<span class="string">'plotleave'</span>, <span class="function"><span class="keyword">function</span><span class="params">(ev)</span> {</span>
  <span class="keyword">var</span> point = {
    x: ev.x,
    y: ev.y
  };
  <span class="comment">// do something</span>
});</code></pre></div><h3 id="plotclick"><a href="#plotclick">plotclick</a></h3><p>鼠标点击绘图区域时触发的事件。</p>
<ul>
<li>ev: 事件触发时返回的对象，包含以下属性<ul>
<li>x：当前鼠标所在的画布上的 x 坐标；</li>
<li>y：当前鼠标所在的画布上的 y 坐标；</li>
<li>target：canvas 对象；</li>
<li>toElement：当前 dom 元素；</li>
<li>views: Array，当前鼠标所在的视图；</li>
<li>shape：点击的图表 shape，可能为空；</li>
<li>data：选中图形代表的数据，可能为空；</li>
<li>geom：选中的图形，可能为空。</li>
</ul>
</li>
</ul>
<h3 id="plotdblclick"><a href="#plotdblclick">plotdblclick</a></h3><p>绘图区域内的鼠标双击事件。</p>
<ul>
<li>ev: 事件触发时返回的对象，包含以下属性<ul>
<li>x：当前鼠标所在的画布上的 x 坐标；</li>
<li>y：当前鼠标所在的画布上的 y 坐标；</li>
<li>target：canvas 对象；</li>
<li>toElement：当前 dom 元素；</li>
<li>views: Array，当前鼠标所在的视图；</li>
<li>shape：点击的图表 shape，可能为空；</li>
<li>data：选中图形代表的数据，可能为空；</li>
<li>geom：选中的图形，可能为空。</li>
</ul>
</li>
</ul>
<h3 id="itemselected"><a href="#itemselected">itemselected</a></h3><p>图表元素被选中时触发。</p>
<ul>
<li>ev: 事件触发时返回的对象，包含以下属性<ul>
<li>shape：选中的图形；</li>
<li>data：选中图形中的数据；</li>
<li>geom：所选中的图表图层。</li>
</ul>
</li>
</ul>
<h3 id="itemunselected"><a href="#itemunselected">itemunselected</a></h3><p>图表元素取消选中时触发。</p>
<ul>
<li>ev: 事件触发时返回的对象，包含以下属性<ul>
<li>shape：取消选中的图形；</li>
<li>data：取消选中图形代表的数据；</li>
<li>geom：所选中的图表图层。</li>
</ul>
</li>
</ul>
<h3 id="itemselectedchange"><a href="#itemselectedchange">itemselectedchange</a></h3><p>图表元素选中发生改变时触发。</p>
<ul>
<li>ev: 事件触发时返回的对象，包含以下属性<ul>
<li>shape：选中的图形；</li>
<li>data：选中图形代表的数据；</li>
<li>preShape：之前选中的图形；</li>
<li>preData：选中图形代表的数据；</li>
<li>geom：所选中的图表图层。</li>
</ul>
</li>
</ul>
<h3 id="tooltipchange"><a href="#tooltipchange">tooltipchange</a></h3><p>tooltip 信息更新改变的时候触发。使用详见教程 <a href="/g2/doc/tutorial/start/tooltip.html#2-格式化-tooltip-的显示内容">tooltip</a>。</p>
<ul>
<li>ev：事件触发时返回的对象，包含以下属性：<ul>
<li>tooltip: 当前生成的 tooltip 对象；</li>
<li>x: 画布上的 x 坐标；</li>
<li>y: 画布上的 y 坐标；</li>
<li>items: 当前 tooltip 中的数据项。</li>
</ul>
</li>
</ul>
<h3 id="tooltipshow"><a href="#tooltipshow">tooltipshow</a></h3><p>tooltip 显示时触发。</p>
<ul>
<li>ev：事件触发时返回的对象，包含以下属性：<ul>
<li>tooltip: 当前生成的 tooltip 对象；</li>
<li>x: 画布上的 x 坐标；</li>
<li>y: 画布上的 y 坐标。</li>
</ul>
</li>
</ul>
<h3 id="tooltiphide"><a href="#tooltiphide">tooltiphide</a></h3><p>tooltip 隐藏或者消失时触发。</p>
<ul>
<li>ev：事件触发时返回的对象，包含以下属性：<ul>
<li>tooltip: 当前生成的 tooltip 对象。</li>
</ul>
</li>
</ul>
<h3 id="rangeselectstart"><a href="#rangeselectstart">rangeselectstart</a></h3><p>框选事件开始时触发。</p>
<h3 id="rangeselectend"><a href="#rangeselectstart">rangeselectend</a></h3><p>框选事件结束时触发。</p>
<ul>
<li>ev：事件触发时返回的对象，包含以下属性：<ul>
<li>x: 结束点 x 的坐标；</li>
<li>y: 结束点 y 的坐标；</li>
<li>selected: 被选择区域对应的维度即值范围，格式如下：<div class="highlight"><pre><code class="javascript">{
dimX: [min, max], <span class="comment">// 当 dimX 值对应为连续数据时，返回值区间</span>
dimY: [yValue1, yValue2, ... , yValueN] <span class="comment">// 当 dimY 值对应为分类数据时，返回值</span>
}</code></pre></div></li>
<li>view: 鼠标当前所在的视图,</li>
<li>rangePlot: 选择框。</li>
</ul>
</li>
</ul>
<script type="text/javascript">
    // 增加监控代码
    window._pt_lt = new Date().getTime();
    window._pt_sp_2 = [];
    _pt_sp_2.push('setAccount,4c8d1d4e');
    var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    (function() {
        var atag = document.createElement('script'); atag.type = 'text/javascript'; atag.async = true;
        atag.src = _protocol + 'js.ptengine.cn/4c8d1d4e.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(atag, s);
    })();
</script>

    </div>
  </div>
</div>
<script src="../../static/prettify-min.js"></script>
<script src="../../static/clipboard.min.js"></script>
<script type="text/javascript">
var CLS_PRETTY = 'prettyprint linenums';
BUI.use('bui/common',function(BUI){
  var preEls = $('pre');
  BUI.each(preEls,function(el){
    var node = $(el), innerText;
    node.addClass(CLS_PRETTY);
    innerText = node.html();
    var a = /^(\s+)/.exec(innerText),
      regex;
    if(a){
      regex = new RegExp('('+a[0]+')(\\s*)','ig');
      innerText = innerText.replace(regex,'$2');
    }

    node.html(innerText);
  });
  if(window.prettyPrint){
    prettyPrint();
  }
});

$(document).ready(function() {
  var docEl = $('.doc-content');
  var hEls = docEl.find('h2, h3');
  var container = $('#J_pageNav');
  var ulContainer;
  var count = 0;
  var hElsLen = hEls.length;
  if (hElsLen > 0 && container.length > 0) {
    for (var i = 0; i < hElsLen; i++) {
      var el = hEls[i];
      var node = $(el);
      var text = node.text();
      var id = node.attr('id');
      var nodeName = el.nodeName;

      if (nodeName === 'H2') {
        count = 0;
        if (ulContainer && ulContainer !== '<ul class="pagenav-columns">') {
          ulContainer += '</ul>';
          $(ulContainer).appendTo(container);
          ulContainer = '<ul class="pagenav-columns">';
          var title = '<div class="clearfix separate"></div><p class="pagenav-title clearfix">' + text + '</p>';
          $(title).appendTo(container);
        } else {
          ulContainer = '<ul class="pagenav-columns">';
          var title = '<p class="pagenav-title clearfix">' + text + '</p>';
          $(title).appendTo(container);
        }
      } else {
        var liItems = '<li><a href="#' + id + '">' + text + '</a></li>';
        ulContainer += liItems;
        count++;
        if (count > 10) {
          ulContainer += '</ul><ul class="pagenav-columns">';
          count = 0;
        }
      }
    }

    ulContainer += '</ul>';
    $(ulContainer).appendTo(container);

    // 代码复制
    $('.highlight').hover(function(e) {
      var target = $(e.target);
      if (target.attr('class') === 'prettyprint linenums') {
        target = target.parent();
      }
      $('<button id="codeCopyBtn">复制代码</button>').appendTo(target);
    }, function(e) {
      $('#codeCopyBtn').remove();
    });

    var clipboard = new Clipboard('#codeCopyBtn', {
      target: function() {
        return $('#codeCopyBtn').parent().find('pre')[0];
      }
    });
    clipboard.on('success', function(e) {
      e.clearSelection();

      $('#codeCopyBtn').text('复制成功!');
      setTimeout(function() {
        $('#codeCopyBtn').text('点击复制');
      }, 2000);
    });
    clipboard.on('error', function(e) {
      e.clearSelection();

      $('#codeCopyBtn').text('复制失败!');
      setTimeout(function() {
        $('#codeCopyBtn').text('点击复制');
      }, 2000);
    });
  }
});
</script>

  </div><a href="javascript:void(0);" id='toTop' title="返回顶部">
	<i class="iconfont icon-to-top"></i>
</a>
 
 
  <div style="display:none;">
<script src="https://s11.cnzz.com/z_stat.php?id=1259109662&web_id=1259109662" language="JavaScript"></script>
<script src="https://a.alipayobjects.com/g/component/tracert/1.0.0/index.js"></script>
</div>
</body>
</html>