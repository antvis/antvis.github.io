<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Stat API 文档</title>
  <meta name="keywords" content="G2, The Grammar of Graphics, 图形语法,图表绘制引擎,图表库,可视化,数据可视化,AntV,Data Visualization,visualization,visualisation, antd, ant, ant design, G6, 流程图, 关系图, 可视化规范, 地图, 河流图, 力导图, 网络图, UML图, 流图, 时序图, 图">
  <meta name="description" content="一套专业、简单、无限可能的可视化解决方案">
  <link rel="icon" href="https://zos.alipayobjects.com/rmsportal/oNtwPuEICFyCWUHztcOA.png" type="image/x-icon">
  <link rel="shortcut icon" href="https://zos.alipayobjects.com/rmsportal/oNtwPuEICFyCWUHztcOA.png" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="../../static/style.css" />
  <link rel="stylesheet" type="text/css" href="../../static/codemirror.css" />
  <link rel="stylesheet" type="text/css" href="../../static/tipuesearch/tipuesearch.css" >
  <script src="../../static/jquery.js"></script>
  <script src="../../static/tipuesearch/tipuesearch_set.js"></script>
  <script src="../../static/tipuesearch/tipuesearch.js"></script>
  <script src="https://g.alicdn.com/bui/??seajs/2.3.0/sea.js"></script>
  <script src="https://g.alicdn.com/bui/bui/1.1.17/config.js"></script>
  <script src="../../static/script.js"></script>
<script src="https://gw.alipayobjects.com/as/g/datavis/g2/2.3.13/index.js"></script>
</head>
<body><header id="header">
  <div class="nav-wrapper gradient-line">
    <div class="nav-content clearfix">
      <div class="pull-left">
        <a href="/index.html" class="nav-logo">
          <img src="https://zos.alipayobjects.com/rmsportal/aGpKpuxoGfZqJobMPLvj.svg">
          <span class="logo-text">AntV</span>
        </a>
        <div class="search-box">
          <form action="/search.html">
            <i class="iconfont icon-search"></i>
            <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
          </form>
        </div>
      </div>
      <div class="nav pull-right">
        <ul id="J_nav" class="clearfix nav-list">
          <li id="g2" class="nav-item hover">
            <a class="nav-item-link" href="/g2/doc/index.html">G2</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g2/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g2/doc/tutorial/start/index.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g2/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g2/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g2/doc/history.html">更新日志</a></li>
            </ul>
          </li>
          <li id="g2-mobile" class="nav-item">
            <a class="nav-item-link" href="/g2-mobile/doc/index.html">G2-mobile</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g2-mobile/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/doc/tutorial/shape.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g2-mobile/doc/history.html">更新日志</a></li>
            </ul>
          </li>
          <li id="g6" class="nav-item">
            <a class="nav-item-link" href="/g6/doc/index.html">G6</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/g6/doc/index.html">快速上手</a></li>
              <li class="nav-sub-item"><a href="/g6/doc/tutorial/start/base.html">使用教程</a></li>
              <li class="nav-sub-item"><a href="/g6/demo/index.html">图表示例</a></li>
              <li class="nav-sub-item"><a href="/g6/api/index.html">API</a></li>
              <li class="nav-sub-item"><a href="/g6/doc/history.html">更新日志</a></li>
              <li class="nav-sub-item"><a href="/g6/tools/index.html" target="_blank">在线工具</a></li>
            </ul>
          </li>
          <li id="vis" class="nav-item last">
            <a class="nav-item-link" href="/vis/doc/chart/index.html">可视化基础</a>
            <ul class="nav-sub-list fadeUp">
              <li class="nav-sub-item"><a href="/vis/doc/chart/classify/compare.html">图表用法</a></li>
              <li class="nav-sub-item"><a href="/vis/doc/design/index.html">图表设计指引</a></li>
              <li class="nav-sub-item"><a href="/vis/doc/reference.html">经典文献</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
 
 
<link rel="stylesheet" href="../../static/prettify-min.css">
<script src="https://a.alipayobjects.com/jquery/jquery/1.11.1/jquery.js"></script>
<script src="https://gw.alipayobjects.com/as/g/datavis/g2/2.3.13/index.js"></script>


  <div class="main-container clearfix">
<div class="body-content api-body-content"><div class="doc-nav">
  <p class="title">G2</p>
  <ul class="doc-nav-list">
    <li class="">
      <a href="/g2/doc/index.html" >快速上手</a>
    </li>
    <li class="">
      <div>
        <div class="menu-dir">使用教程</div>
        <ul class="doc-sub-nav-list" style="display:none;">
          <li class="sub-title">基础教程</li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/index.html" >G2 图表的主要组成</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/chart.html" >图表对象配置（chart）</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/working-with-data.html" >data 数据</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/frame.html" >Frame 常见操作</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/scale.html" >度量</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/col-defs.html" >列定义操作</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/geom.html" >geom 几何标记</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/attr.html" >attr 图形属性</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/coord.html" >coord 坐标系</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/axis.html" >axis 坐标轴</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/legend.html" >legend 图例</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/tooltip.html" >tooltip 提示信息</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/guide.html" >guide 辅助标记</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/stat.html" >stat 统计变换</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/facet.html" >facet 分面</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/theme.html" >theme 图表样式</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/label.html" >label 文本标签</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/chart-event.html" >图表事件 event</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/action.html" >图表交互</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/changedata.html" >数据异步加载与动态更新</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/g2-plugin-slider.html" >数据滑动条插件使用</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/rc-g2.html" >在 react 中使用 G2</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/start/fqas.html" >常见问题</a>
          </li>
          <li class="sub-title">高级教程</li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/index.html" >G2 图形语法简介</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/data-flow.html" >G2 的数据处理流程</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/data-type-and-scale.html" >数据类型与度量</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/coord-detailed.html" >坐标系详解</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/chart-type.html" >图表类型</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/geom-and-adjust.html" >几何标记和数据调整</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/custom-shape.html" >自定义 shape</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/view.html" >多视图 view 绘制</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/layout.html" >layout 布局</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/draw-word-cloud.html" >使用 G2 绘制词云</a>
          </li>
          <li class="">
            <a href="../../g2/doc/tutorial/advance/animate.html" >自定义动画</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="">
      <a href="/g2/demo/index.html" >图表示例</a>
    </li>
    <li class="">
      <div>
        <div class="menu-dir active">API</div>
        <ul class="doc-sub-nav-list" style="">
          <li class="">
            <a href="../../g2/api/index.html" >G2</a>
          </li>
          <li class="">
            <a href="../../g2/api/chart.html" >Chart</a>
          </li>
          <li class="">
            <a href="../../g2/api/view.html" >View</a>
          </li>
          <li class="">
            <a href="../../g2/api/geom.html" >Geom</a>
          </li>
          <li class="">
            <a href="../../g2/api/scale.html" >Scale</a>
          </li>
          <li class="active">
            <a href="../../g2/api/stat.html" >Stat</a>
          </li>
          <li class="">
            <a href="../../g2/api/frame.html" >Frame</a>
          </li>
          <li class="">
            <a href="../../g2/api/shape.html" >Shape</a>
          </li>
          <li class="">
            <a href="../../g2/api/animate.html" >Animate</a>
          </li>
          <li class="">
            <a href="../../g2/api/layout.html" >Layout</a>
          </li>
          <li class="">
            <a href="../../g2/api/global.html" >Global</a>
          </li>
          <li class="">
            <a href="../../g2/api/util.html" >Util</a>
          </li>
          <li class="">
            <a href="../../g2/api/canvas.html" >Canvas</a>
          </li>
          <li class="">
            <a href="../../g2/api/chart-options.html" >配置项支持</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="">
      <a href="/g2/doc/history.html" >更新日志</a>
    </li>
  </ul>
</div>

<script type="text/javascript">
$(".menu-dir").on("click", function(e){
  var span = $(e.target);
  span.toggleClass("active");
  var ul = span.next();
  if (!span.hasClass('active')) {
    ul.slideUp(300);
  } else {
    ul.slideDown(300);
  }
});
</script>
  <div class="doc-content clearfix">
    <h1>Stat</h1>
    <div id="J_pageNav"></div>
    <div class="clearfix" style="margin-bottom: 40px;"></div>
    <div class="doc-inner">
      <p>获取方式： <code>G2.Stat</code></p>
<p>用于数据计算的统计函数，例如将数据分组计数以创建直方图、饼图等。Stat 统计在 G2 绘图中是可选的，但通常非常有用，常同 position 图形属性一起使用。</p>
<p>根据对数据的处理方式的不同，G2 中提供了以下几种统计变换函数：</p>
<ul>
<li>传统统计函数<ul>
<li><code>Stat.summary</code>：汇总统计，提供了计算数据集合的最大值、最小值、平均数等统计函数；</li>
<li><code>Stat.bin</code>：封箱统计，将数据划分成一个个的区域，然后在外面嵌套汇总统计；</li>
<li><code>Stat.smooth</code>：线性回归、非线性回归以及各种平滑插值算法，常用于查找数据的规律；</li>
<li><code>Stat.density</code>：样本估计总体的概率密度；</li>
<li><code>Stat.region</code>：计算数值区间，误差区间等；</li>
</ul>
</li>
<li>数据变换函数<ul>
<li><code>Stat.map</code>：用于地图的绘制计算；</li>
<li><code>Stat.treemap</code>：用于矩阵树图的绘制计算；</li>
<li><code>Stat.link</code>：用于计算关系图中边的坐标。</li>
</ul>
</li>
</ul>
<h1 id="语法">语法</h1><p>Stat 除了作为 G2 的图形语法的一部分之外，还可以单独使用（您只需要了解即可，目前 Stat 的单独使用方式还略晦涩）。</p>
<ul>
<li>方式一：作为图形语法元素的一部分使用</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="comment">// 用于绘制饼图，计算数据中每个分类对应的 y 值占比</span>
chart.intervalStack().position(Stat.summary.percent(<span class="string">'y'</span>)); 
<span class="comment">// 用于绘制地图，是一种数据变换函数</span>
chart.polygon().position(Stat.map.region(<span class="string">'name'</span>, mapData)).color(<span class="string">'value'</span>); 
<span class="comment">// 用于绘制矩阵树图，也是一种数据变换函数</span>
chart.polygon().position(Stat.treemap(<span class="string">'1*value'</span>));</code></pre></div><ul>
<li>方式二： 单独调用</li>
</ul>
<div class="highlight"><pre><code class="javascript"><span class="keyword">var</span> Stat = G2.Stat;
<span class="keyword">var</span> data = [
  {x: <span class="string">'red'</span>, y: <span class="number">1</span>, z: <span class="string">'1'</span>},
  {x: <span class="string">'red'</span>, y: <span class="number">2</span>, z: <span class="string">'2'</span>},
  {x: <span class="string">'red'</span>, y: <span class="number">3</span>, z: <span class="string">'4'</span>},
  {x: <span class="string">'blue'</span>, y: <span class="number">1</span>, z: <span class="string">'3'</span>},
  {x: <span class="string">'blue'</span>, y: <span class="number">2</span>, z: <span class="string">'1'</span>}
];
<span class="keyword">var</span> frame = <span class="keyword">new</span> G2.Frame(data);
<span class="keyword">var</span> stat = Stat.summary.count(<span class="string">'x'</span>); <span class="comment">// 创建统计函数，计算 x 字段的总数</span>
stat.init(); <span class="comment">// 初始化统计函数</span>
<span class="keyword">var</span> nf = stat.exec([frame])[<span class="number">0</span>]; <span class="comment">// 执行统计函数</span>
console.log(nf); <span class="comment">// 打印统计结果</span></code></pre></div><p><code>Stat.summary.count(&#39;x&#39;)</code> 统计函数会默认生成一个 <code>..count</code> 属性，用于存放统计结果，该函数用于统计不同的 x 值的总数，如下图所示：</p>
<p><img src="https://zos.alipayobjects.com/skylark/c52e93c7-2739-4a38-943f-d09c3932be33/attach/3378/b9c5374532d9365b/image.png" alt="image"></p>
<h2 id="方法">方法</h2><h3 id="stat-summary-min"><a href="#Stat.summary.min">Stat.summary.min</a></h3><p>方法名：<code>Stat.summary.min(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的最小值。</p>
<h4 id="代码示例">代码示例</h4><div id="c1"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c1'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
   });
  chart.source(data);
  chart.interval().position(Stat.summary.min(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-max"><a href="#Stat.summary.max">Stat.summary.max</a></h3><p>方法名：<code>Stat.summary.max(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的最大值。</p>
<h4 id="代码示例">代码示例</h4><div id="c2"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c2'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.max(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-sum"><a href="#Stat.summary.sum">Stat.summary.sum</a></h3><p>方法名：<code>Stat.summary.sum(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的总和。</p>
<h4 id="代码示例">代码示例</h4><div id="c3"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c3'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.sum(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-range"><a href="#Stat.summary.range">Stat.summary.range</a></h3><p>方法名：<code>Stat.summary.range(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的最大值、最小值区间的差值。</p>
<h4 id="代码示例">代码示例</h4><div id="c4"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c4'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.range(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-mean"><a href="#Stat.summary.mean">Stat.summary.mean</a></h3><p>方法名：<code>Stat.summary.mean(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的平均值。</p>
<h4 id="代码示例">代码示例</h4><div id="c5"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c5'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.mean(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>)
  chart.render();
});</code></pre></div><h3 id="stat-summary-median"><a href="#Stat.summary.median">Stat.summary.median</a></h3><p>方法名：<code>Stat.summary.median(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的中位数。</p>
<h4 id="代码示例">代码示例</h4><div id="c6"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c6'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.median(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-mode"><a href="#Stat.summary.mode">Stat.summary.mode</a></h3><p>方法名：<code>Stat.summary.mode(&#39;x*y&#39;)</code></p>
<p>说明：按照 x 进行分组，计算列 y 的众数。</p>
<h4 id="代码示例">代码示例</h4><div id="c7"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c7'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.mode(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-sd"><a href="#Stat.summary.sd">Stat.summary.sd</a></h3><p>方法名：<code>Stat.summary.sd(&#39;x*y&#39;)</code> </p>
<p>说明：按照 x 进行分组，计算列 y 的标准差。</p>
<h4 id="代码示例">代码示例</h4><div id="c8"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c8'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.sd(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-count"><a href="#Stat.summary.count">Stat.summary.count</a></h3><p>方法名：<code>Stat.summary.count(&#39;x&#39;)</code></p>
<p>说明：计算按照 x 分组后，各个分组的个数。</p>
<p><strong>该统计会产生一个新的字段 <code>..count</code> 用于存储统计结果。</strong></p>
<h4 id="代码示例">代码示例</h4><div id="c9"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c9'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.summary.count(<span class="string">'cut'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-summary-proportion"><a href="#Stat.summary.proportion">Stat.summary.proportion</a></h3><p>方法名：<code>Stat.summary.proportion(&#39;x&#39;)</code></p>
<p>说明：统计按照 &#39;x&#39; 分组后计算每个分组x字段个数，占总数的比例。</p>
<p><strong>该统计会产生一个新的字段 <code>..proportion</code> 用于存储统计结果。</strong></p>
<h4 id="代码示例">代码示例</h4><div id="c10"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c10'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.intervalStack().position(Stat.summary.proportion(<span class="string">'cut'</span>));
  chart.render();
});</code></pre></div><h3 id="stat-summary-percent"><a href="#Stat.summary.percent">Stat.summary.percent</a></h3><p>方法名：<code>Stat.summary.percent(&#39;x*y&#39;)</code></p>
<p>说明：统计按照 &#39;x&#39; 分组后计算每个分组 x 字段的和占所有字段 x 和的比例。</p>
<p><strong>该统计会产生一个新的字段 <code>..percent</code> 用于存储统计结果。</strong></p>
<h4 id="代码示例">代码示例</h4><div id="c11"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c11'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.intervalStack().position(Stat.summary.percent(Stat.summary.count(<span class="string">'cut'</span>)));
  chart.render();
});</code></pre></div><h3 id="stat-summary-cumulative"><a href="#Stat.summary.cumulative">Stat.summary.cumulative</a></h3><p>方法名：<code>Stat.summary.cumulative(&#39;x*y&#39;)</code></p>
<p>说明：计算累积值。</p>
<h4 id="代码示例">代码示例</h4><div id="c12"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c12'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.line().position(Stat.summary.cumulative(Stat.summary.percent(Stat.summary.count(Stat.bin.dot(<span class="string">'depth'</span>,<span class="number">0.03</span>))))).color(<span class="string">'red'</span>).shape(<span class="string">'smooth'</span>); <span class="comment">// 密度曲线</span>
  chart.render();
});</code></pre></div><h3 id="stat-bin-dot"><a href="#Stat.bin.dot">Stat.bin.dot</a></h3><p>方法名：<code>Stat.bin.dot(&#39;x*y&#39;, binWidth)</code></p>
<p>说明：将 x、y 按照一定的比例进行划分多个区域，默认 binWidth 参数值为 0.03，将落到这个区域内的点的 x，y 变成统一的值。</p>
<h4 id="参数">参数</h4><ul>
<li><code>binWidth</code>: Number</li>
</ul>
<p>用于指定如何对数据进行划分，默认为 0.03，将 x轴、y轴划分成 1/0.03 大约 33 个分片，每个分片作为一个分组。</p>
<h4 id="代码示例">代码示例</h4><div id="c13"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c13'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.pointStack().position(Stat.bin.dot(<span class="string">'carat'</span>)).color(<span class="string">'red'</span>).size(<span class="number">1</span>);
  chart.render();
});</code></pre></div><h3 id="stat-bin-rect"><a href="#Stat.bin.rect">Stat.bin.rect</a></h3><p>方法名：<code>Stat.bin.rect(&#39;x*y&#39;, binWidth)</code></p>
<p>说明：将 x、y 按照一定的比例进行划分多个区域，默认 0.03，将落到这个区域内的点的 x，y 变成统一的值,可以通过这个统计函数获取出一个矩形范围。</p>
<h4 id="参数">参数</h4><ul>
<li><code>binWidth</code>: Number</li>
</ul>
<p>用于指定如何对数据进行划分，默认为 0.03，将 x轴、y轴划分成 1/0.03 大约 33 个分片，每个分片作为一个分组。</p>
<h4 id="代码示例">代码示例</h4><div id="c14"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c14'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.polygon().position(Stat.bin.rect(<span class="string">'carat*price'</span>,<span class="number">0.01</span>)).color(Stat.summary.count(),<span class="string">'lightness'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-bin-hex"><a href="#Stat.bin.hex">Stat.bin.hex</a></h3><p>方法名：<code>Stat.bin.hex(&#39;x*y&#39;, binWidth)</code></p>
<p>说明：将 x，y 按照一定的比例进行划分多个区域，默认 0.03，将落到这个区域内的点的x，y变成统一的值,可以通过这个统计函数获取出一个六边形范围。</p>
<h4 id="参数">参数</h4><ul>
<li><code>binWidth</code>: Number</li>
</ul>
<p>用于指定如何对数据进行划分，默认为 0.03，将 x轴、y轴划分成 1/0.03 大约 33 个分片，每个分片作为一个分组。</p>
<h4 id="代码示例">代码示例</h4><div id="c15"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c15'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.tooltip({
    title: <span class="literal">null</span>
  });
  chart.polygon().position(Stat.bin.hex(<span class="string">'carat*price'</span>,<span class="number">0.03</span>)).color(Stat.summary.count(),<span class="string">'blue'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-bin-quantile-letter"><a href="#Stat.bin.quantile.letter">Stat.bin.quantile.letter</a></h3><p>方法名：<code>Stat.bin.quantile.letter(&#39;x*y&#39;, binWidth)</code></p>
<p>说明：计算 y 的四分位值，一般用于形成箱须图。</p>
<h4 id="参数">参数</h4><ul>
<li><code>binWidth</code>: Number</li>
</ul>
<p>用于指定如何对数据进行划分，默认为 0.03，将 x轴、y轴划分成 1/0.03 大约 33 个分片，每个分片作为一个分组。</p>
<h4 id="代码示例">代码示例</h4><div id="c16"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> Util = G2.Util;
  <span class="keyword">var</span> Frame = G2.Frame;
  <span class="keyword">var</span> frame = <span class="keyword">new</span> Frame(data);
  frame = Frame.combinColumns(frame,[<span class="string">'萼片长度'</span>,<span class="string">'萼片宽度'</span>,<span class="string">'花瓣长度'</span>,<span class="string">'花瓣宽度'</span>],<span class="string">'value'</span>,<span class="string">'type'</span>,<span class="string">'品种'</span>);
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c16'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(frame);
  chart.tooltip({
    map:{
     title: <span class="string">"type"</span>
    }
  });
  chart.schema().position(Stat.bin.quantile.letter(<span class="string">'value'</span>)).shape(<span class="string">'box'</span>).size(<span class="number">50</span>);
  chart.render();
});</code></pre></div><h3 id="stat-smooth-linear"><a href="#Stat.smooth.linear">Stat.smooth.linear</a></h3><p>方法名：<code>Stat.smooth.linear(&#39;x*y&#39;)</code></p>
<p>说明：线性回归，生成一条线性回归曲线。</p>
<h4 id="代码示例">代码示例</h4><div id="c17"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c17'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.point().position(<span class="string">'carat*price'</span>);
  chart.line().position(Stat.smooth.linear(<span class="string">'carat*price'</span>));
  chart.render();
});</code></pre></div><h3 id="stat-smooth-quadratic"><a href="#Stat.smooth.quadratic">Stat.smooth.quadratic</a></h3><p>方法名：<code>Stat.smooth.quadratic(&#39;x*y&#39;)</code> </p>
<p>说明：二阶回归曲线</p>
<h4 id="代码示例">代码示例</h4><div id="c18"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c18'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.point().position(<span class="string">'carat*price'</span>);
  chart.line().position(Stat.smooth.quadratic(<span class="string">'carat*price'</span>));
  chart.render();
});</code></pre></div><h3 id="stat-smooth-cubic"><a href="#Stat.smooth.cubic">Stat.smooth.cubic</a></h3><p>方法名：<code>Stat.smooth.cubic(&#39;x*y&#39;)</code></p>
<p>说明：三阶回归曲线</p>
<h4 id="代码示例">代码示例</h4><div id="c19"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c19'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.point().position(<span class="string">'carat*price'</span>);
  chart.line().position(Stat.smooth.cubic(<span class="string">'carat*price'</span>));
  chart.render();
});</code></pre></div><h3 id="stat-smooth-log"><a href="#Stat.smooth.log">Stat.smooth.log</a></h3><p>方法名：<code>Stat.smooth.log(&#39;x*y&#39;)</code></p>
<p>说明：Log 回归曲线</p>
<h3 id="stat-smooth-exp"><a href="#Stat.smooth.exp">Stat.smooth.exp</a></h3><p>方法名：<code>Stat.smooth.exp(&#39;x*y&#39;)</code></p>
<p>说明：次幂回归曲线</p>
<h4 id="代码示例">代码示例</h4><div id="c20"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c20'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.point().position(<span class="string">'carat*price'</span>);
  chart.line().position(Stat.smooth.exp(<span class="string">'carat*price'</span>));
  chart.render();
});</code></pre></div><h3 id="stat-smooth-loess-kerneltype"><a href="#Stat.smooth.loess.kernelType">Stat.smooth.loess.kernelType</a></h3><p>方法名：<code>Stat.smooth.loess.&amp;lt;**kernelType**&amp;gt;(&#39;x*y&#39;[, bandWidth])</code> </p>
<p>说明：核函数局部回归曲线。</p>
<p>当有三个维度的时候，即是核函数回归曲面，如下：</p>
<p>方法名：<code>Stat.smooth.loess.&amp;lt;**kernelType**&amp;gt;(&#39;x*y*z&#39;[, bandWidth])</code> </p>
<p>说明：核函数局部回归曲面</p>
<h4 id="参数">参数</h4><ul>
<li>Stat.smooth.loess 后面需要声明回归曲线函数类型，可选项：uniform、triangular、epanechnikov、quartic、triweight、tricube、gaussian、cosine；</li>
</ul>
<p>即： </p>
<ul>
<li>Stat.smooth.loess.uniform(&#39;x*y&#39;[, bandWidth]) 根据核函数 uniform 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.triangular(&#39;x*y&#39;[, bandWidth]) 根据核函数 triangular 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.epanechnikov(&#39;x*y&#39;[, bandWidth]) 根据核函数 epanechnikov 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.quartic(&#39;x*y&#39;[, bandWidth]) 根据核函数 quartic 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.triweight(&#39;x*y&#39;[, bandWidth]) 根据核函数 triweight 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.tricube(&#39;x*y&#39;[, bandWidth]) 根据核函数 tricube 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.gaussian(&#39;x*y&#39;[, bandWidth]) 根据核函数 gaussian 估计离散点数据的回归曲线；</li>
<li>Stat.smooth.loess.cosine(&#39;x*y&#39;[, bandWidth]) 根据核函数 cosine 估计离散点数据的回归曲线。</li>
</ul>
<ul>
<li>bandwidth：代表核函数带宽占数据总范围的百分比，是可选的，默认0.01。</li>
</ul>
<h4 id="代码示例">代码示例</h4><div id="c21"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c21'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.point().position(<span class="string">'carat*price'</span>);
  chart.line().position(Stat.smooth.loess.uniform(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">0</span>]);
  chart.line().position(Stat.smooth.loess.triangular(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">1</span>]);
  chart.line().position(Stat.smooth.loess.epanechnikov(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">2</span>]);
  chart.line().position(Stat.smooth.loess.quartic(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">3</span>]);
  chart.line().position(Stat.smooth.loess.triweight(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">4</span>]);
  chart.line().position(Stat.smooth.loess.tricube(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">5</span>]);
  chart.line().position(Stat.smooth.loess.gaussian(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">6</span>]);
  chart.line().position(Stat.smooth.loess.cosine(<span class="string">'carat*price'</span>,<span class="number">0.1</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">0</span>]);
  chart.render();
});</code></pre></div><h3 id="stat-density-kernel-kerneltype"><a href="#Stat.density.kernel.kernelType">Stat.density.kernel.kernelType</a></h3><p>方法名：<code>Stat.density.kernel.&amp;lt;**kernelType**&amp;gt;(&#39;x&#39;[, bandwidth])</code></p>
<p>说明：核密度估计概率密度曲线。</p>
<p>方法名：<code>Stat.density.kernel.&amp;lt;**kernelType**&amp;gt;(&#39;x*y&#39;[, bandwidth])</code></p>
<p>说明：核密度估计概率密度曲面。</p>
<p><strong>kernelType</strong>：核函数类型，可选项：uniform、triangular、epanechnikov、quartic、triweight、tricube、gaussian、cosine；</p>
<p><strong>bandwidth</strong>：代表核函数带宽占数据总范围的百分比，是可选的，默认0.01。</p>
<ul>
<li>Stat.density.uniform(&#39;x&#39;[, bandWidth]) 根据核函数 uniform 估计数据的概率密度函数；</li>
<li>Stat.density.triangular(&#39;x&#39;[, bandWidth]) 根据核函数 triangular 估计数据的概率密度函数；</li>
<li>Stat.density.epanechnikov(&#39;x&#39;[, bandWidth]) 根据核函数 epanechnikov 估计数据的概率密度函数；</li>
<li>Stat.density.quartic(&#39;x&#39;[, bandWidth]) 根据核函数 quartic 估计数据的概率密度函数；</li>
<li>Stat.density.triweight(&#39;x&#39;[, bandWidth]) 根据核函数 triweight 估计数据的概率密度函数；</li>
<li>Stat.density.tricube(&#39;x&#39;[, bandWidth]) 根据核函数 tricube 估计数据的概率密度函数；</li>
<li>Stat.density.gaussian(&#39;x&#39;[, bandWidth]) 根据核函数 gaussian 估计数据的概率密度函数；</li>
<li>Stat.density.cosine(&#39;x&#39;[, bandWidth]) 根据核函数 cosine 估计数据的概率密度函数。</li>
</ul>
<h4 id="代码示例">代码示例</h4><ul>
<li>核密度估计概率密度曲线</li>
</ul>
<div id="c22"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c22'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.line().position(Stat.density.kernel.uniform(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">0</span>]);
  chart.line().position(Stat.density.kernel.triangular(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">1</span>]);
  chart.line().position(Stat.density.kernel.epanechnikov(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">2</span>]);
  chart.line().position(Stat.density.kernel.quartic(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">3</span>]);
  chart.line().position(Stat.density.kernel.triweight(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">4</span>]);
  chart.line().position(Stat.density.kernel.tricube(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">5</span>]);
  chart.line().position(Stat.density.kernel.gaussian(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">6</span>]);
  chart.line().position(Stat.density.kernel.cosine(<span class="string">'depth'</span>,<span class="number">0.03</span>)).color(G2.Global.colors[<span class="string">'intervalStack'</span>][<span class="number">7</span>]);
  chart.render();
});</code></pre></div><ul>
<li>核密度估计概率密度曲面</li>
</ul>
<div id="c23"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c23'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.heatmap().position(Stat.density.kernel.gaussian(<span class="string">'carat*price'</span>)).color(<span class="string">'..density'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-density-normal"><a href="#Stat.density.normal">Stat.density.normal</a></h3><p>方法名：<code>Stat.density.normal(&#39;x&#39;, 0.01)</code></p>
<p>说明：正态分布估计概率密度 </p>
<h4 id="代码示例">代码示例</h4><div id="c24"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c24'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.line().position(Stat.density.normal(<span class="string">'depth'</span>,<span class="number">0.01</span>));
  chart.render();
});</code></pre></div><h3 id="stat-region-spread-range"><a href="#Stat.region.spread.range">Stat.region.spread.range</a></h3><p>方法名：<code>Stat.region.spread.range(&#39;x*y&#39;)</code></p>
<p>说明：，按照x进行分组，计算列 y 的最大值、最小值，构成一个数组。</p>
<h4 id="代码示例">代码示例</h4><div id="c25"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c25'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.region.spread.range(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-region-spread-sd"><a href="#Stat.region.spread.sd">Stat.region.spread.sd</a></h3><p>方法名：<code>Stat.region.spread.sd(&#39;x*y&#39;)</code></p>
<p>说明：按照x进行分组，计算列 y 的标准差的上下范围，构成一个数组。</p>
<h4 id="代码示例">代码示例</h4><div id="c26"></div>

<div class="highlight"><pre><code class="javascript">$.getJSON(<span class="string">'../../static/data/diamond.json'</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span>{</span>
  <span class="keyword">var</span> Stat = G2.Stat;
  <span class="keyword">var</span> chart = <span class="keyword">new</span> G2.Chart({
    id: <span class="string">'c26'</span>,
    forceFit: <span class="literal">true</span>,
    height: <span class="number">250</span>
  });
  chart.source(data);
  chart.interval().position(Stat.region.spread.sd(<span class="string">'cut*price'</span>)).color(<span class="string">'cut'</span>);
  chart.render();
});</code></pre></div><h3 id="stat-map-region"><a href="#Stat.map.region">Stat.map.region</a></h3><p>方法名：<code>Stat.map.region(&#39;name&#39;, mapData)</code></p>
<p>说明：用于处理 <a href="http://geojson.org/">GeoJSON</a> 格式的地理数据，获取 <code>name</code> 对应的地理坐标区域，该统计变换函数会返回格式： [[经度], [纬度]]。 </p>
<p>map 对应的统计函数都会自动生成两个经纬度字段：</p>
<ul>
<li>..long 经度</li>
<li>..lant 维度</li>
</ul>
<h4 id="参数">参数</h4><ul>
<li><code>name</code>: String</li>
</ul>
<p>地名，需要同 mapData 中的地名对应。</p>
<ul>
<li><code>mapData</code>: Object</li>
</ul>
<p>地图的经纬度数据，GeoJSON 格式。</p>
<p><a href="/g2/demo/10-map/world-map.html">在线示例</a></p>
<h3 id="stat-map-center"><a href="#Stat.map.center">Stat.map.center</a></h3><p>方法名：<code>Stat.map.center(&#39;name&#39;, mapData)</code> </p>
<p>说明：返回 <code>name</code> 对应地理区域的中心点坐标，<code>name</code> 地名，返回格式： [经度, 纬度]</p>
<h4 id="参数">参数</h4><ul>
<li><code>name</code>: String</li>
</ul>
<p>地名，需要同 mapData 中的地名对应。</p>
<ul>
<li><code>mapData</code>: Object</li>
</ul>
<p>地图的经纬度数据，GeoJSON 格式。</p>
<p><a href="/g2/demo/10-map/map-with-bubble.html">在线示例</a></p>
<h3 id="stat-map-name"><a href="#Stat.map.name">Stat.map.name</a></h3><p>方法名：<code>Stat.map.name(&#39;x*y&#39;, mapData)</code> </p>
<p>说明：根据提供的经纬度坐标，获取该坐标对应的区域地名。</p>
<h4 id="参数">参数</h4><ul>
<li><code>x</code>: Number</li>
</ul>
<p>代表经度。</p>
<ul>
<li><code>y</code>: Number </li>
</ul>
<p>代表纬度。</p>
<ul>
<li><code>mapData</code>: Object</li>
</ul>
<p>地图的经纬度数据，GeoJSON 格式。</p>
<h3 id="stat-map-location"><a href="#Stat.map.location">Stat.map.location</a></h3><p>方法名：<code>Stat.map.location(&#39;x*y&#39;, mapData)</code> </p>
<p>说明： 根据传入的 x y 地理坐标点将点定位到相应的位置。</p>
<h4 id="参数">参数</h4><ul>
<li><code>x</code>: Number</li>
</ul>
<p>代表经度。</p>
<ul>
<li><code>y</code>: Number </li>
</ul>
<p>代表纬度。</p>
<ul>
<li><code>mapData</code>: Object</li>
</ul>
<p>地图的经纬度数据，GeoJSON 格式。</p>
<p><a href="/g2/demo/10-map/usa-map.html">在线示例</a></p>
<h3 id="stat-treemap"><a href="#Stat.treemap">Stat.treemap</a></h3><p>方法名：<code>Stat.treemap(&#39;children*value&#39;)</code></p>
<p>说明：用于生成简单的 treemap。</p>
<p>treemap 的统计函数，都是传入 chilren 字段和 value 字段来计算 treemap 的范围，所以都会自动生成两个字段：</p>
<ul>
<li>..x，是一个数组，有 4 个值，每个值代表一个顶点的 x 坐标。</li>
<li>..y，是一个数组，有 4 个值，每个值代表一个顶点的 y 坐标。</li>
</ul>
<p><a href="/g2/demo/09-treemap/mobile.html">在线示例</a> </p>
<h3 id="stat-treemap-squarify"><a href="#Stat.treemap.squarify">Stat.treemap.squarify</a></h3><p>方法名：<code>Stat.treemap.squarify(&#39;children*value&#39;)</code></p>
<p>说明：划分成比例合适的矩形。</p>
<h3 id="stat-treemap-slicedice"><a href="#Stat.treemap.sliceDice">Stat.treemap.sliceDice</a></h3><p>方法名：<code>Stat.treemap.sliceDice(&#39;children*value&#39;)</code></p>
<p>说明：是横竖交替的划分，适用于极坐标</p>
<p><a href="/g2/demo/09-treemap/polar-slice-dice.html">在线示例</a></p>
<h3 id="stat-link"><a href="#Stat.link">Stat.link</a></h3><p>方法名：<code>Stat.link(&#39;source*target&#39;,nodes)</code></p>
<p>说明：生成指定节点的链接</p>
<p><a href="/g2/demo/13-link/tree.html">在线示例</a></p>
<h3 id="stat-link-weight"><a href="#Stat.link.weight">Stat.link.weight</a></h3><p>方法名：<code>Stat.link.weight(&#39;source * target * weight&#39;, nodes)</code></p>
<p>说明：生成指定节点的有宽度的连接线。</p>
<p>方法名：<code>Stat.link.weight(&#39;source * target * sourceWeight * targetWeight&#39;, nodes)</code></p>
<p>说明：生成指定节点的有宽度变化的连接线。</p>
<p><a href="/g2/demo/13-link/chordDiagram.html">在线示例</a></p>
<h3 id="stat-link-sankey"><a href="#Stat.link.sankey">Stat.link.sankey</a></h3><p>方法名：<code>Stat.link.sankey(&#39;source * target * weight&#39;, nodes)</code></p>
<p>说明：生成桑基图中指定节点的有宽度的连接线。</p>
<p><a href="/g2/demo/13-link/sankey.html">在线示例</a></p>
<script type="text/javascript">
$.getJSON('../../static/data/diamond.json',function(data){
  var Stat = G2.Stat;
  var chart = new G2.Chart({
    id: 'c1',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.min('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c2',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.max('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c3',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.sum('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c4',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.range('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c5',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.mean('cut*price')).color('cut')
  chart.render();

  var chart = new G2.Chart({
    id: 'c6',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.median('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c7',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.mode('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c8',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.sd('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c9',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.summary.count('cut')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c10',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.intervalStack().position(Stat.summary.proportion('cut'));
  chart.render();

  var chart = new G2.Chart({
    id: 'c11',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.intervalStack().position(Stat.summary.percent(Stat.summary.count('cut')));
  chart.render();

  var chart = new G2.Chart({
    id: 'c12',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.line().position(Stat.summary.cumulative(Stat.summary.percent(Stat.summary.count(Stat.bin.dot('depth',0.03))))).color('red').shape('smooth'); // 密度曲线
  chart.render();

  var chart = new G2.Chart({
    id: 'c13',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.pointStack().position(Stat.bin.dot('carat')).color('red').size(1);
  chart.render();

  var chart = new G2.Chart({
    id: 'c14',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.polygon().position(Stat.bin.rect('carat*price',0.01)).color(Stat.summary.count(),'lightness');
  chart.render();

  var chart = new G2.Chart({
    id: 'c15',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.tooltip({
    title: null
  });
  chart.polygon().position(Stat.bin.hex('carat*price',0.03)).color(Stat.summary.count(),'blue');
  chart.render();

  var Util = G2.Util;
  var Frame = G2.Frame;
  var frame = new Frame(data);
  frame = Frame.combinColumns(frame,['萼片长度','萼片宽度','花瓣长度','花瓣宽度'],'value','type','品种');
  var chart = new G2.Chart({
    id: 'c16',
    forceFit: true,
    height: 250
  });
  chart.source(frame);
  chart.tooltip({
    map:{
     title: "type"
    }
  });
  chart.schema().position(Stat.bin.quantile.letter('value')).shape('box').size(50);
  chart.render();

  var chart = new G2.Chart({
    id: 'c17',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.point().position('carat*price');
  chart.line().position(Stat.smooth.linear('carat*price'));
  chart.render();


  var chart = new G2.Chart({
    id: 'c18',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.point().position('carat*price');
  chart.line().position(Stat.smooth.quadratic('carat*price'));
  chart.render();

  var chart = new G2.Chart({
    id: 'c19',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.point().position('carat*price');
  chart.line().position(Stat.smooth.cubic('carat*price'));
  chart.render();

  var chart = new G2.Chart({
    id: 'c20',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.point().position('carat*price');
  chart.line().position(Stat.smooth.exp('carat*price'));
  chart.render();

  var chart = new G2.Chart({
    id: 'c21',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.point().position('carat*price');
  chart.line().position(Stat.smooth.loess.uniform('carat*price',0.1)).color(G2.Global.colors['intervalStack'][0]);
  chart.line().position(Stat.smooth.loess.triangular('carat*price',0.1)).color(G2.Global.colors['intervalStack'][1]);
  chart.line().position(Stat.smooth.loess.epanechnikov('carat*price',0.1)).color(G2.Global.colors['intervalStack'][2]);
  chart.line().position(Stat.smooth.loess.quartic('carat*price',0.1)).color(G2.Global.colors['intervalStack'][3]);
  chart.line().position(Stat.smooth.loess.triweight('carat*price',0.1)).color(G2.Global.colors['intervalStack'][4]);
  chart.line().position(Stat.smooth.loess.tricube('carat*price',0.1)).color(G2.Global.colors['intervalStack'][5]);
  chart.line().position(Stat.smooth.loess.gaussian('carat*price',0.1)).color(G2.Global.colors['intervalStack'][6]);
  chart.line().position(Stat.smooth.loess.cosine('carat*price',0.1)).color(G2.Global.colors['intervalStack'][0]);
  chart.render();

  var chart = new G2.Chart({
    id: 'c22',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.line().position(Stat.density.kernel.uniform('depth',0.03)).color(G2.Global.colors['intervalStack'][0]);
  chart.line().position(Stat.density.kernel.triangular('depth',0.03)).color(G2.Global.colors['intervalStack'][1]);
  chart.line().position(Stat.density.kernel.epanechnikov('depth',0.03)).color(G2.Global.colors['intervalStack'][2]);
  chart.line().position(Stat.density.kernel.quartic('depth',0.03)).color(G2.Global.colors['intervalStack'][3]);
  chart.line().position(Stat.density.kernel.triweight('depth',0.03)).color(G2.Global.colors['intervalStack'][4]);
  chart.line().position(Stat.density.kernel.tricube('depth',0.03)).color(G2.Global.colors['intervalStack'][5]);
  chart.line().position(Stat.density.kernel.gaussian('depth',0.03)).color(G2.Global.colors['intervalStack'][6]);
  chart.line().position(Stat.density.kernel.cosine('depth',0.03)).color(G2.Global.colors['intervalStack'][7]);
  chart.render();

  var chart = new G2.Chart({
    id: 'c23',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.heatmap().position(Stat.density.kernel.gaussian('carat*price')).color('..density');
  chart.render();

  var chart = new G2.Chart({
    id: 'c24',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.line().position(Stat.density.normal('depth',0.01));
  chart.render();

  var chart = new G2.Chart({
    id: 'c25',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.region.spread.range('cut*price')).color('cut');
  chart.render();

  var chart = new G2.Chart({
    id: 'c26',
    forceFit: true,
    height: 250
  });
  chart.source(data);
  chart.interval().position(Stat.region.spread.sd('cut*price')).color('cut');
  chart.render();
});
</script>

    </div>
  </div>
</div>
<script src="../../static/prettify-min.js"></script>
<script src="../../static/clipboard.min.js"></script>
<script type="text/javascript">
var CLS_PRETTY = 'prettyprint linenums';
BUI.use('bui/common',function(BUI){
  var preEls = $('pre');
  BUI.each(preEls,function(el){
    var node = $(el), innerText;
    node.addClass(CLS_PRETTY);
    innerText = node.html();
    var a = /^(\s+)/.exec(innerText),
      regex;
    if(a){
      regex = new RegExp('('+a[0]+')(\\s*)','ig');
      innerText = innerText.replace(regex,'$2');
    }

    node.html(innerText);
  });
  if(window.prettyPrint){
    prettyPrint();
  }
});

$(document).ready(function() {
  var docEl = $('.doc-content');
  var hEls = docEl.find('h2, h3');
  var container = $('#J_pageNav');
  var ulContainer;
  var count = 0;
  var hElsLen = hEls.length;
  if (hElsLen > 0 && container.length > 0) {
    for (var i = 0; i < hElsLen; i++) {
      var el = hEls[i];
      var node = $(el);
      var text = node.text();
      var id = node.attr('id');
      var nodeName = el.nodeName;

      if (nodeName === 'H2') {
        count = 0;
        if (ulContainer && ulContainer !== '<ul class="pagenav-columns">') {
          ulContainer += '</ul>';
          $(ulContainer).appendTo(container);
          ulContainer = '<ul class="pagenav-columns">';
          var title = '<div class="clearfix separate"></div><p class="pagenav-title clearfix">' + text + '</p>';
          $(title).appendTo(container);
        } else {
          ulContainer = '<ul class="pagenav-columns">';
          var title = '<p class="pagenav-title clearfix">' + text + '</p>';
          $(title).appendTo(container);
        }
      } else {
        var liItems = '<li><a href="#' + id + '">' + text + '</a></li>';
        ulContainer += liItems;
        count++;
        if (count > 10) {
          ulContainer += '</ul><ul class="pagenav-columns">';
          count = 0;
        }
      }
    }

    ulContainer += '</ul>';
    $(ulContainer).appendTo(container);

    // 代码复制
    $('.highlight').hover(function(e) {
      var target = $(e.target);
      if (target.attr('class') === 'prettyprint linenums') {
        target = target.parent();
      }
      $('<button id="codeCopyBtn">复制代码</button>').appendTo(target);
    }, function(e) {
      $('#codeCopyBtn').remove();
    });

    var clipboard = new Clipboard('#codeCopyBtn', {
      target: function() {
        return $('#codeCopyBtn').parent().find('pre')[0];
      }
    });
    clipboard.on('success', function(e) {
      e.clearSelection();

      $('#codeCopyBtn').text('复制成功!');
      setTimeout(function() {
        $('#codeCopyBtn').text('点击复制');
      }, 2000);
    });
    clipboard.on('error', function(e) {
      e.clearSelection();

      $('#codeCopyBtn').text('复制失败!');
      setTimeout(function() {
        $('#codeCopyBtn').text('点击复制');
      }, 2000);
    });
  }
});
</script>

  </div><a href="javascript:void(0);" id='toTop' title="返回顶部">
	<i class="iconfont icon-to-top"></i>
</a>
 
 
  <div style="display:none;">
<script src="https://s11.cnzz.com/z_stat.php?id=1259109662&web_id=1259109662" language="JavaScript"></script>
<script src="https://a.alipayobjects.com/g/component/tracert/1.0.0/index.js"></script>
</div>
</body>
</html>